{"version":3,"sources":["utils.ts","board-views/images/white/king.png","board-views/piece.tsx","board-views/images/white/magician.png","board-views/images/white/spy.png","board-views/images/white/tower.png","board-views/images/white/archer.png","board-views/images/white/chariot.png","board-views/images/black/king.png","board-views/images/black/magician.png","board-views/images/black/spy.png","board-views/images/black/tower.png","board-views/images/black/archer.png","board-views/images/black/chariot.png","board-views/images/golden-king.png","board-logic/possible-moves.ts","board-views/board-view-reducer.ts","board-views/tile.tsx","board-views/board-view.tsx","components/modal.tsx","board-logic/tile.ts","board-logic/tile-maker.ts","board-logic/piece.ts","board-logic/board/board-state.ts","board-logic/board/board.ts","board-views/tutorial/piece-tutorials.tsx","board-views/tutorial/tutorial.tsx","board-views/images/question.svg","board-views/images/restart.svg","board-views/board-info.tsx","board-logic/ai/move-finder.ts","board-logic/ai/score-evaluator.ts","board-views/images/move.mp3","board-views/board-page.tsx","reportWebVitals.ts","store/store.ts","index.tsx"],"names":["useWindowEvent","event","callback","useEffect","window","addEventListener","removeEventListener","delay","duration","Promise","resolve","setTimeout","pieceImages","WHITE","KING","MAGICIAN","SPY","TOWER","ARCHER","CHARIOT","BLACK","Piece","opts","name","colour","movable","width","position","isGolden","onPieceDrag","onPieceClick","mouseDown","useRef","pieceImage","style","height","cursor","zIndex","left","x","top","y","transform","pointerEvents","src","alt","draggable","onClick","e","stopPropagation","onMouseDown","current","onMouseUp","onMouseMove","onDragStart","preventDefault","className","getPossibleMoves","key","board","getPossibleMovesWithDetails","map","t","tileTo","possibleMoves","piece","state","getPiece","Error","tile","tiles","get","moveSets","moveSet","type","direction","push","getLinearMoves","getContinuousMoves","getJumpMoves","directions","moves","tmpTile","i","length","neightbour","walk","neightbourPiece","move","tileFrom","tileScore","getTileScore","distanceFromPiece","canTakeNeighbour","capturing","startingTile","neighbour","canTake","isTakable","edgePreference","xEdge","yEdge","boardViewInitialState","selectedTile","gameMode","tileWidth","boardWidth","draging","draggedPiece","draggedPieceCoords","BoardViewContext","createContext","boardViewReducer","action","formatTiles","possibleMovesWithDetails","m","movingPiece","lastMove","getLastMove","playerTurn","player","yAxis","xAxis","possibleMoveTile","find","isPossibleMove","isMovingPiece","isPreviousMove","includes","_piece","isHill","edgeScore","Tile","opt","tileKey","isPrevMove","playable","onPieceMove","useContext","dispatch","status","classes","tileStyle","highlightHtml","animationDelay","pieceElement","pieceWidth","Math","floor","join","BoardView","token","boardMaxWidth","selectTile","useReducer","boardColumnCount","onWindowMouseUp","useCallback","onWindowMouseMove","clientX","clientY","boardRowsHtml","tileRows","rowHtml","tileRow","Provider","value","Modal","props","isOpen","onClose","title","children","onRequestClose","shouldCloseOnOverlayClick","shouldCloseOnEsc","overlayClassName","contentLabel","ReactModal","setAppElement","neighbours","this","Map","getLast","arr","isLast","index","findAdjacentTile","config","xIncrement","yIncrement","neighbourFinderMap","c","getEdgeScore","tileIndex","centrePosition","distanceFromCentre","abs","round","pieceDescMap","pieceDesc","id","random","makePiece","startingPlayer","BoardState","stateHistory","turn","seed","generateSeed","activePieces","capturedPieces","capturedPiece","slice","pop","getPlayerColourFromTurn","boardStateJSON","forEach","Array","from","combinedStates","pieces","stateJSON","JSONStateItem","filter","set","boardDimentions","Board","hills","totalTurns","checkBoardDimentions","reverse","xValue","yValue","getTileColour","finder","neighbourKey","makeBoardTilesFromAxis","getTilesArray","to","fromTile","toTile","newState","getActivePieces","addState","delete","winner","checkIfKOTH","getNextTurnPlayer","reduce","item","nextTurnPlayer","hill","getAllPossibleMovesByColour","pieceTutorials","desc","gameRulesTxt","Tutorial","useState","setSelectTile","selectedTutPiece","setSelectedTutPiece","setToken","console","log","boardState","tutMoveIndex","initState","sequenceIndex","simulatePlaySequences","intervalId","setInterval","clearInterval","setStateFromJSON","tutContent","pieceName","wrapperDivClass","dangerouslySetInnerHTML","__html","BoardInfo","restart","modalIsOpen","setModalIsOpen","CapturedPieces","TurnInfo","restartSvg","questionSvg","getCapturedPieces","txt","getMoveCandidates","plugins","time","originalBoardJSONState","getJSONState","boardCopyConfig","h","boardCopy","moveTree","minimax","depth","isMaximizingPlayer","alpha","beta","count","bluePieces","redPieces","score","plugin","blackScore","evaluatePosition","bestMove","bestVal","sort","a","b","getMoves","moveFrom","moveTo","max","min","undo","BoardMemo","memo","moveSound","Audio","MoveSound","volume","scoreEvalPlugins","BoardPage","screenSize","updateScreenSize","updateBoardWidth","w","boardInfoSize","updateBoardInfoSize","moveToPlayTimeoutId","updatePlayable","adjustBoardSize","windowInnerWidth","widths","innerWidth","screen","getWindowInnerWidth","newBoardWidth","simulateComputerPlay","moveCandidate","error","play","isValidMove","reset","clearTimeout","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.907938d7.chunk.js","sourcesContent":["import { useEffect } from \"react\";\r\n\r\n/**\r\n *\r\n */\r\nexport const useWindowEvent = (event: any, callback: any) => {\r\n  useEffect(() => {\r\n    window.addEventListener(event, callback);\r\n    return () => window.removeEventListener(event, callback);\r\n  }, [event, callback]);\r\n};\r\n\r\n/**\r\n *\r\n */\r\nexport function delay(duration: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, duration));\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function getWindowInnerWidth() {\r\n  let widths = [window.innerWidth];\r\n  if (window.screen?.width) {\r\n    widths.push(window.screen?.width);\r\n  }\r\n  return Math.min(widths[0], widths[1]);\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAANT/////L4qbS+D/Hdn/JNr/Q9//O97/UeL/LNv/M9z/Ftj/2dnZWeP/ENf/BNH7KHWENo6fCcfuHJqz4ODgKoKTSIeTyuLmL4qbL4ubL4udL4qb9/r6L4ucqM3UL4qbSJmoL4qcL4qbGLHQLJWpfen/L4qbL4qbX6SyMIydbuf/HajEELvdL4qbL4qb6e3uPsnlwOPpMJ+1k9rpeqy1mOz9XbHBI7zbj73GE8LmNrvVPqa6L67IydHTvNrh1+/zFqO/NIqbWZOft/P/e8TSJ5etG6rGJp20FLXVFLTTbkw31wAAAEt0Uk5TAP///////////////////////////////3DGf5//QP+P/2Aw////6RD/r////1Ag///////////////////////+6////9rblPW4JNJuzwAABq1JREFUeJzd22l72jgQAOAa0U1IA8GC0GAuc5orHOUIN2lD2t39/z9oJct2ApY0kwCb7s6HPrSV/DKSZU8U+9On3yuKtp0Phe1Hzo+siIqInhtFEVUe/X7/bW7WISeLNt5utkm5NCiVg77b4CNtlbbf9mO7/XbH/tiWWm6L8pYG/VrjOevpYOW+Q1vj3ePjQ6Dtxp5Mh4lOQxadTqMTW/EW48LY71ceP+7GD5TkkbBFH6bTRmM6bnkHGHamnZZwYwlNDCmhz9Pd7tl3d+wwHSY3UW6V9Zh22HEaUyEvucbToUutm7igfEQ6DSHzo/DDJFakiIKLZNURB5q6I7wWWnRJ6IXWTURXYkQ6nQfif3t3ICoouEeWiZgbiQYbplVU/CUWXZYvYvrwmjL6mY1zxzvMJc2i4AqbSS/YANNX2DAaQ0ZnOt41PDd28XaY5TCUHhgKdu77+TK4nEPBWfo+TBnRlY2Fo0cH94JY4RZyjn45Ht6LVRsF2/QSdbjhiJ3yF5iWaxycx8FD95JMMfLaQsJfLhAxYtcIZq8QTZc4uI2DSesxEtnSOgZ2cHAdBZcLERZ3KPgHCrbql4iDXc4jbpQRbYdIeHSJiZKAHxBNh/T3hp2Tw1cUVQk4ayiBNQ8PbvHPSwhGVV0/1l+0sWRFHIutgOfsIyF1bY8rWsXABIAJ9cyXaOn7YOElkPD80I0UyEgPY4quJplp4SEJJcxWsx4e9RBwn8yutFEvSTIearuMMNUeCF+tHw/dZ6DLCFN0VUH46ooXsf5ZzT5eQu2R8AKEefgXEEzbNabaK9LFH5jwYUxbJPz55PDMRsC9c8CYMrNyDhhT7VXo9WdM+DCmLQrOYuDFrOvfnWozqPH1zQJT7WXrEDxLk6+T+UDAm8mTWa9pWcNIYeAcAM+I+VTaxOMefBuPbyammVaonGUwpsy0tfCinnnaDAaF4HLJYBaMDmd97bGGkcTA+dG1OmaEzl9Q9zo9cOXSV7N+2PgmafhxLFwj9C58TxT0k0lUrGEQBNzuatzyIOyyrG+FbC5e2BvjdWD2fdQwy/fwhrg3009mxlf3WcOoI2BLAt/wWBBZ7fF6uMU8h1nDSCPKTKt2Ew42X8m6pNjaz3nDzm0Zy2BEtReCvb5sggsa2JXZqkpKWMPoImDn/iBVESlCwrXW3hnGU/5qfpfDiDLTmYWSxSQsppmlLIcRZeaPxWGy4rzUzrA/2HyWZXANUWbSRVg1jHtCpEv4MOUnMy2FEdUeTYVUd6RbkBuJqMf6HoabJCXrmYZH2h3rkmney2C42uvL4TpwTvtjrZjkBQaWrcSk7qoVBF9RpnRBpWwQrhJZwmwVS25LoXAvmzI4CZeZx8Oy0zoJV3vF+hHwrQo2PgyGq73eeeCfIFyR9vvvwmkQznbPAn//KLgLwrkzwWC1Z0vvp0fDNRDOnwkGy8y87K52PHwPVnvtM8FgtfdhsLU4C5wCy0xLWoAcD4Nl5pngJFjtOR8GS3/4ORo2wGrPkXY7HrYhWFpynQD+E4KlBcgJYKgSaJ4L/gXA/Q+D5d3OD1c/DJYWICeA/wLg4v8OvgfgnrTy+RfgyrngBVDtVaQFyAngFABnzwYD1Z4aRmxF6OAkAOekJRe8oejDG1MBG0C1Z0sLEA4jtpsYXFLCQLWXV8IUAcfjcyUMVHtqGN5S5NtNLSUMVAJt+X4zh+FJHsQ35N2wvBeHy4gpnmTeC1vyXkn3mWNwijfljHxnj8XfevinBoZSHsTn5L2wfJeLhfv0LzDLtxvKYfnV3uhqTuuiRVRw2pVVv3YSCW9ahMPya59RI5biGtK0HUIUZ4bRFU9Ma34tUYhPiAvL1wXf4ye21G3zQ6vghfdsumag57yB8qR2YWKF71HCJfICxOA75UJWXUYGEyJgxUgLmIT3NCtED9f85+nli2ogHj5Xj7Q/ZqGfGtsAnAxeBZiHJ7pQ8t4UUC4mcQ1iEdo/tgA4SJnT++NduAveZjAzqoR9ODTWOfHvquVkBLPsxmTur6zCdvLyXkRGtYhfvnjo5+Sm9y6I/O706isHUeZP7tG9f1IPtH8lcMKndVXIqtVg+OelJjLqgfYSdmTlQN+C5JpO1bveYlJsLGbFNNdSSUXo5YyqX2rhjrOTVZe4WWg0da7+v52cfh81a53FtTTZBnP9blup5lAPhPLo2ad608ppV3Dv/gTR7OWOzNyx7Ao61YPo93L5d/CO1c4Vq2/MVBbFXoV9AQcafua17exJxMNo9qu9XqWS5W/w+S/08bf4esXqW7l/ABBJRz3vk6XzAAAAAElFTkSuQmCC\"","import { useRef, CSSProperties, MouseEvent } from \"react\";\r\nimport { Colour, PieceName } from \"../board-logic/piece\";\r\n\r\nimport whiteKing from \"./images/white/king.png\";\r\nimport whiteMagician from \"./images/white/magician.png\";\r\nimport whiteSpy from \"./images/white/spy.png\";\r\nimport whiteTower from \"./images/white/tower.png\";\r\nimport whiteArcher from \"./images/white/archer.png\";\r\nimport whiteChariot from \"./images/white/chariot.png\";\r\n\r\nimport blackKing from \"./images/black/king.png\";\r\nimport blackMagician from \"./images/black/magician.png\";\r\nimport blackSpy from \"./images/black/spy.png\";\r\nimport blackTower from \"./images/black/tower.png\";\r\nimport blackArcher from \"./images/black/archer.png\";\r\nimport blackChariot from \"./images/black/chariot.png\";\r\n\r\nimport goldenKing from \"./images/golden-king.png\";\r\n\r\ntype PieceImages = {\r\n  [key in Colour]: {\r\n    [key in PieceName]: string;\r\n  };\r\n};\r\n\r\nconst pieceImages: PieceImages = {\r\n  WHITE: {\r\n    KING: whiteKing,\r\n    MAGICIAN: whiteMagician,\r\n    SPY: whiteSpy,\r\n    TOWER: whiteTower,\r\n    ARCHER: whiteArcher,\r\n    CHARIOT: whiteChariot,\r\n  },\r\n  BLACK: {\r\n    KING: blackKing,\r\n    MAGICIAN: blackMagician,\r\n    SPY: blackSpy,\r\n    TOWER: blackTower,\r\n    ARCHER: blackArcher,\r\n    CHARIOT: blackChariot,\r\n  },\r\n};\r\n\r\nexport interface PieceProps {\r\n  name: PieceName;\r\n  colour: Colour;\r\n  width: number;\r\n  movable?: boolean;\r\n  position?: { x: number; y: number };\r\n  isGolden?: boolean;\r\n  onPieceDrag?: () => void;\r\n  onPieceClick?: () => void;\r\n}\r\n\r\nexport function Piece(opts: PieceProps) {\r\n  const { name, colour, movable, width, position, isGolden, onPieceDrag, onPieceClick } = opts;\r\n  const mouseDown = useRef(false);\r\n  let pieceImage = pieceImages[colour][name];\r\n\r\n  if (isGolden && name === \"KING\") {\r\n    pieceImage = goldenKing;\r\n  }\r\n\r\n  /**\r\n   * Firefox image drag fix\r\n   */\r\n  function onDragStart(e: MouseEvent) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onMouseDown(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    if (!movable) return;\r\n    mouseDown.current = true;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onMouseUp(e: MouseEvent) {\r\n    if (!movable) return;\r\n    mouseDown.current = false;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onMouseMove(e: MouseEvent) {\r\n    if (!onPieceDrag) return;\r\n    if (mouseDown.current) {\r\n      onPieceDrag();\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onClick(e: MouseEvent) {\r\n    if (!movable) return;\r\n    if (!onPieceClick) return;\r\n    e.stopPropagation();\r\n    onPieceClick();\r\n  }\r\n\r\n  let style: CSSProperties = { width, height: width };\r\n  if (movable) style.cursor = \"grab\";\r\n  // When piece is being dragged\r\n  if (position) {\r\n    style.position = \"absolute\";\r\n    style.zIndex = 10;\r\n    style.left = position.x - width / 2;\r\n    style.top = position.y - width / 2;\r\n    style.transform = \"scale(1.2)\";\r\n    // CSS trick for 'mouseup' event fire on Tile.\r\n    style.pointerEvents = \"none\";\r\n  }\r\n\r\n  return (\r\n    <img\r\n      src={pieceImage}\r\n      alt={name}\r\n      draggable={false}\r\n      style={style}\r\n      onClick={onClick}\r\n      onMouseDown={onMouseDown}\r\n      onMouseUp={onMouseUp}\r\n      onMouseMove={onMouseMove}\r\n      onDragStart={onDragStart}\r\n      className={`piece ${colour === \"WHITE\" ? \"blue\" : \"red\"}`}\r\n    />\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAANT/L4qb////AMnyTeH/VuP/RN//XuT/Z+X/cef/Mdz/O97/LoeYAM324ODgIdn/eej/Kdr+f+r/OpCgi+z/Q5amnO7/Gdj/Dtb/L4qb5ubm8/T1MIqbL4qbL4qbL4qbFbDQC77iGarHL4qbL4qbBsjvHKS/J5asIZyz1dvcjLrDL4qbWKCtL4qbK4+hL4qbL4qba6m0Fs7ztcvQQr/YL4qbOK3DL4qbL4qbsfH9e7bBj+P0SKO1L4qbGLzdP9Dtx+DkabbFocPK1u3xlc/axfL7f9XmaNLoT8/oTpuqTWdj1AAAAEt0Uk5TAP////////////////////////////////8Q///wYK+P////z+D///////8w/1D/fyD/////cP+/QP////+f//////////////9h+zBlkAAAB2hJREFUeJzV22lf2koUB+BmiKIXCAgxLApZgAAioFIEQZCqrdrv/4HuTBayTc5MIHh/97zpmyRPz/lnG5r++PF/q6fb/4S9VRHa3H+/21Le3t/fFO2b2VtVWS3//Fn+lput73RbzdHv5RLLf55XqPNtUd+q8uvzclmtVrG9HCrfFXWrqayqmL3ERWzcNNKOzzZUNPqoErZSqTj0xwgdPepWU149O2xlR1df5eNGjdtVfmNn57p0FTeNtKNF3Wqi0fOyGnBd+vlVOVbUuF18NkdY1778GMmoe4SocbvKh8NehMqxSdOdlOeN20XrDzrr4pd43jKedyNFF7dLxoxdumrTOOtP3DS6S4sl7SqfDNahKzPcdCedqHG7eMxkyhcX/wBl09Vniz48atKu/HpptQuxru7SWgrtKp+E5VA9eo3pxwPbVV4vOLv15MvqB6b3j5qczOtzJ9tzzrLSrlxWPjG92Ctq+2S+qCRRdzbGz78wre3VrjI7T656+PkZoRPOm9yZ51/n+6G7OjudreVEUePn7vrr1N75sDqZKbLKGzV57s5ODhT9NGfUuN159jQt9+zsNDtTON6NGqq83p6cplvZmcx6N8IvkbNsyiyuk9y8y2h3nnq7xM2XXppgu/Nt9iT9ypfqggHAf+XZsVhBMBAA9+ulfMp0Nl8mrCC8APC4Lwj1Ui6bYrksgeNfxsYTskW9Vs6nxtZclwPGdD0V2s8Kgg7AT0hyN8MTzx9YAZbA8XdsH4wLT/yAygVZAsffum6RGdh2/7ZzNSFcEHyPjNDW9Vpun4qygtBGTwlga+JpsILQA+AGeqHtgieeoEp12jFYsE7fqV4qc1YcS+BxcpiEzWPHswQG3gVQO35H3DZslyBWEAYg3IN2JW0DVQddDANrmiYMEzrGrjFYQeiD8ICxd4zNZhlwt8+GyTOk5lTJ/oODJTDwS0F3wgN7dLnMyzLgDifs2LntCS8rCBPorb4TeDyx6FxW+cpzbw7CiyRw7XQty2e8DQsIbSDYZB/BLbwwkdGau2WE1HhYpT2eYqq2VRAqFLY5vs2ltOD6tF9AWEZb+lMwGbyhPxdpVZojUoXC+oQvZoQWEKzzsVKJ/JZly7M81xk5gWCNE5am2zVRHyx5O+WR+6hzMCxNy9agRzcrAsvlqcSmBxB8x3gu2qwkTq1BKzfF4ojI87IoMuU2AhbIPDBxt8SV34rF4o1M5Jcplhn0obAkiqY96GHxCss/CTwxRZHVtI6ABfIjE8auM+iHm6vMNZatmHtTS4ZoA4JbDJiworlVCiTgq0wmQ3q2Yn6xeoaaNhCwQGbAtlueF6yArzGcsWMuFJDpyLG0CcFj8DXTckVzLlsBW641bCvmgehUnIzvmcACGYAlx52SQT8UrzKZnWzFrLPkPWHJOaz1bLADtsuOuVAomCJMT8CVeRzsumbbF7BdJGbFP+wYuQ+uzOmwtHNfJr6AM8GYdRGkB+DKnApLu+OZ/UDA/pjxsA1Q7oErcxrsuWIbBQMOxtwX/XKYhlfmUVjyuQa5Rf8MDNqVrZj9w440rYML5AjsY+1BD6OuF7MRlAP0SyLY74ptSsCePAwPO9S0Aa7Mg7AUcA1qwMGY22HZo01wgazHtmsNmhawL+ZCeNj+piVuOOiKvZiA/THjR3MY3jUtgQtkD5ZCrh4bcDDm8LC9pidccNg18bt7XMBezA+RM9vXdB9amev0MYviAAo4EHN02I48gFbmOrVde9DxAQdjHlBkQveglblOd8mVBAXsyW/0YRO5rTHgCGsNGg44GDMNFqUBAC90qttmBxyImTJsyRiAK/N2dMz2oFkBB2PWw6zYnqAmkLHao7givmWxA/ZkErMZPEKbvD90gW9iVNQ2I3SbL+DdsIsPoWHrhEVN6F817/AGAyNIG/RnMCCTmL2XTqNvr6ThL3FUsknfH5HZ5w3YG/bP3TW1Y1GH8fFR19qq3/MPmjdgT36zH83kVHYr/i3ArrGzXaFnuIPmD3g3bBJzWzKtc8oujeE6w7bogWENOknAOxnHjHoei5rsr7zuva0LfR0/hJMEbJfzCuYvnm+8NN/2eBm4ShSwI9+8KQEXuoR31egGYLR6Twz/GqFQdZkfTzZanfBO6OFXIvb9IXIEUgvoi4zGXZe60ypJuzL1ELjiPwZ5orOI3Ls42ethrIurQ3+11oBd0JDPpY/ZK9rpvYF3kTmS/qXAx0C0O8mYuQ+z6TdozG5Fpr1g7wM3fb3iYCk/W8eeWP4Cmn6PXLz0ivyyGL1+aRXbdPxVFKrIj7jsjO2iNn095NwbUZZuKnsnq0bRpplXkVfRs5pxHfsr3DTHVbRzqY+LFu/uo8CDg+sqsir+pvnIewivac6riLCP0NPxkeuy8prmvYpQF2St05tx73RrmOAqam5uuT5xH9/xXNWjd76rqKPxqXY1xhr7Jspst9nRWvt8zT9ucehx5kJ7TNJptO7HrbvNgvOcw2C3ox5Khv4CT/hvcLfZLBadbrfZ9FPdTkdVNe2x9XR7n+b/kzhK/QtBSUfbntOEWgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAANT/T+H/L4qb////SOD/Qd//FNf/VOL/Hdn/L4qbL4qbBNX/Ldz/Ot7/Jtv/NN3/4OHhC9b/L4qbRdXybeb+L4qbL4qbdef/ZeX/CsTqG6nGOLXOXuT/L4qbO73X9vf3L4qbRZinL4qbL4qbssnOPszoL4qbL4qbhOHyJZyzUqCuK5CjL4qbdbC7L4qbL4qbf9vtzNvdBc73L4qbOq7EXNnyONDuk8XPh7zGItn/Z971kOj5OJCge8raFrLR7O/wiNDeJa3JhOn+p87VPcXfpNznZLLBYMzhMsjlTrfMInXJ0wAAAEt0Uk5TAP///////////+9A/////////xD//yAw////////3///j/9/UP//n2D/////v//Pr////3D/////////////////////////////egZKywAABldJREFUeJzt2wtT2koYBmBkC4EEhEIDRA0KoSL3myggCFar5/T//6CzuwnCJt9+ARJre4Z3pp0RNvtkLwlhEyKRY475lOSLRc2TYt5dyltGKxYORjWrpxIgFbcbiRTKUMFORdtfzVs9qC4aCypekBQmlT3ZG6et1UX1PQuspppdvrUu3Fqs6Zs93GKfV9KdTiaPPE8sLfZi2dvPdjp8P2mx9QbTabdl9/jOrsaa23p5bTRKhmGYpmHoJZpLdP95k8eGE51tMXiavLFXe7KddYV1c/Xldf6sG2bCiUnD4LJ8Mza/xomtDdj+DiYtrJuEFKnbomyJsVE7vK5LfK5UGBxdJxHlul566rI27+AWqNt95WxUDINr8g0tAXb2l9KN6W6Tm06SbgNyOYycFWpemNOGPqHvFP3cW9rPDZ2NrbsOP1iDYE6Xpujk4MmrZDEoGQBrw8gsKcIwlY1SCx0kFjpQTyUTdA+FKW00/I7mfJl05wbI7gRfwLBZekRHiU+Q15J3Wm1gZFs5HDWNOSG3GNwnrTk8wIHghPn8hk8vlTw+y3o6EKwP/IZpoMsavAt8Kdk0YcwXBPlwviWLhmRKB4TN51/YINfJWN7gIHA0UfqH9OXb9slYNqX94QIK63fYkVwnF3I3GGyiLa7LpmUI8N3nwNFEAPgnIerh8DcMrgSFf8q3/kS4foRDgvMU/vdvg60/E772h68xGLm2PsIeGLtuCgLf/rXw/R8Jg4snIcCRAPDNEd4HDjLGFI7FDoULfjByQc9hJyCMnbnYBf23A+HaFuz1feCbYHCcx83HHBj7ds1WfU6DwusI+DW+MFkOBp/yxCGfwfJLVL6kiMLITlM4mz3dROTvWdWyL7kFvtwbPxDWyI/sOl6fwyq8uWavlAeA0yzZLOSn7fXnjqUJUyxf0N4X1QPAmfQmWXEH0m3yHtUJEdKOgyeA3WAnkH9BfHLhOgD3gWcsmQzox9u42773HP+xLRhZVCySH0meGejH73D3+lQ8/gTfD1aU5CYzYQdmM+NB3ub2+CGWTIMnAB5/2InXT+bSpq4/PNw93Nl5cMLvQOh6NJk7OUkpyVkaOgHtDAu+ouRStNJc5jRhOjc7WErMY/8MI3GaVqi7Dt0wLZ6A7nH4PMcj2Mx0kkq53wQKbXSGr09AKFxYw5sA9e0VJemcg+6xJUUKp1hCQp3klAw9Ae0E84SjOlEyfjAvFi5q5wyD8w78EflEGLn1dIT//3DkQ2HsjtcR/m2weoTDhLFHI47wb4PLKJziV5rO1aB94csvfu3LUPYicrV0OEzZlJKNsed+dMN5/If/Z/9tRtP8alMOIy4G06uwtPE8n88bLIPGdgYD+vdzKZahLZe1+VA4lUua8/lbdSH9DkNI9VeWdrtExuGeDKbfTIz5I6bauaByqLAyS8z5s1mL7vQ7mEmX71Y1OwsTzs3iOnswazEdfpVnyuhqUgkRVrLmL1ppa7haXcFZMXnY4r0Nw9iqYKQDw7lZ7I62prr6gmS1lu9hGF1y7jRhOBMd0xqHmEvDZFpsDM7rJQpX2iCcmsVpg7s+LpfZg3IjqI5z9PE5C94opbAFnxdfmMrfacElVEcTubXIln7BjU5yTVrfV394xfsaGq8RUSvSK4FCRSVwX5+wRRd0atm54jBUx5Id5DCdr/B1ujMpvEOLv/CuJkCDm/aZDbjpVXQeGIbndXu3MZbCZ+tzqur+PlF8X5YEm8xg/1lNu7oLwqOt9THxa3JhsxzahiY27yn/Qb4aLsAxPt/+IBEGur71BtTZfMs3X3jVBStYCp9gwnElPBEOyPamW6N8NZxMuyyTl60T2oQXcx+SS3EhUjhpiwvPXnlEBHnY2i5efX95Ac0SlyvCdfG9pmecncNhyoEpcaV1xTphugB2e3TuLizcUPE8A+/urvfjYTpcTdyFmfx1su4FocFnTXdRVZzWmvv99lJstWfHZdn6ZB15We/dlKL3FwfN5dkW7q0DjDNKo9HZ8hxY3VaBpdS6t1jYUevgVX3xg2m1I11/KVjgb0HCYS38qfLahzRb7dd2+OVATfpzlMPSq3h+toPhnTBMtVPRdkfXKdxYHfBnPbuat3u01ButZtX38dVev27VApGu9tdqN5ZV73c65fL23UxVVcu9Xqdfr1i3Ne+PsP68/AdnzA/tlet/eAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAANT/L4qbZeX/////XOT/J9v/R+D/Nd3/VuL/YuT/INn/TeH/PN7/Ldv/UeH/Qd//BNP9aub/LJGkMNz/F9j/KHeF29vbDdb/duf+I5qxL4qbGqXAZ+H5L4qbK3+PL4qbL4qbXd/5ir3HhbK7L4qb7e3tL4qbme7/KoWWjOz/BcvzL4qbL4qbCsPpE6/OL4qbL5yxL4qbL4qbL4qbEbfYL4qbL4qbW9fxE77hKajBRrHGObzWS9r2QNLwPavBTrzRUMfgTs7oWNHpNs/tadvyrPH/ZaOvcKizmrzD0NbXATMnJAAAAEt0Uk5TAP//////////////////////////////////MP//EP/vn////4//IP////+/UP//f//PZ9//r0D/////////////////////////WKjkQwAABk5JREFUeJzNm31/ojgQxxGOdrW73WJqVxEtsufZ+oD4/FSr9mH37t7/C7pJwDZ1YYbW8Nn7/dEiJPlmSJiZRNS0/5Pq9XqrWq3OZtVq6/VEq/5rMaEWCEr3ZvXotCjLm5iBeqFGIwTY0uPkxh7Gajx2X4oclh2/G6xIw98F7iLg6puSjDFVUN7SFAezSq3meV6tViyY5lqQ79brdeFB1H+oHaoiVAu7uHt+fq49hKj1fD5/joq0b7a63iAs/vHjpt0WrRWLhSc4MTCLULW94V1o30RqC70cVdaih22ofNMW5IdKWyqcBtzmRC4DlF/q+r1hwKdKDazwigcK7eUVnvjl8IMBle4M+WqFd7tJgHlBY6/CWl/y/xxyB12AS1GnxF+pC+ZSf9pfM5cDz5AvVtqDFODiZjBgg81q9zj3jMLO23fCvCuIPhiypD7uog7CP29ueN58/vi42642m9W2UkkFXm08Q6U2IZga42Jxs1ILnq9SgQ3lYG9VTAMuGKutaouL/DmnwGYm4BQWm8Z2pxi8TQXOG7vHglKwtzU8Alzn4AKAlcrbCTAWJLQxBz+qBj8WSPBIgOeKwfNCnrjVfJA35lwxuBCCA8Ji/W7umWrlmV8B3MPAXRHO1YMho3APc1RZdZE73OcVg808hONhCx9iXX/6rJpr3kOzQyosLk9VG5znI0x6LnaRVy6RkFGJADtVD/68/F3gJwrc4uCvysFfL5YEGHw1gNVLmIyCm+C4sgBf2ITL5M/T/Wf1OmUpwCwD8gUFDsQSKBswtiPAEwF9c6peX6BdylcPLjIAL/ENAbEj8JQB945w1cKBXKq3+J4v29EhhnjMSp8uVIsbTIOtM+VkPrXwp0kDcK50+UW1uMlodqu5wmLl4E8wyC4FLp1nAOZBAgUPdXbySb3OS4wGn2fAPSszdCuT59UZgC9Pyjkb91wCfKlcZxyMbWVq2hTGWD34pGTZxOPUAPC5ep2VbdxXQ+qTCfikZOMplwBnoTObcJmBzs4yAqNBIkswujyGhXlG4GUKcCZa6lUU3NPtrMBYrifApXc1WCqXrUjlUKVQ++uRHB3bidC0GYBjhGFzsuQeRArPOHhwgvzWLscpHl46wCJy8OAEaaYdU0sYEXMj0nNzDh6cINuLAyexy6m5PsM9ZjI4Yr/BpjcYgtMMB2sImDcQmR1OmtT2Wg6RBnAwI9rYz9TUVF6JEbFJ4wHZoVp5H1RoQkRjTawXFxT53dxcjrkUmG+/+B9omdCC8Jia2BNA59cHxfBwrPF0T58k1e70JTmSbCFsjBiegMCD7CKzq3OFKrHDIJua1j1sVlvXsboVuj4OPNWRSWthrwFcX2GTkgQPUQeCgzvZgbG3JK6yBNuc8P3fb4f6R4DRmpTr6pLgn79gQX8D+PY4sE6Bv/9xqL++ffszY7ATCwbybwXjg5QZ+PYKc/GWjS+PKXD/o2CHWCweBUZ8LdTDVzAUePExsM+IjYhjwNdX/cRqE51MMgGMRVUfAyPBiVqWa2IvAgkyHwVb9K3mOVdyYLQwMBYVJy4JHmE5FwrGglOO4RsCIRh5LpLBeFSkwyLMLgfJQRgCxri0y4RVG5awI+Dr48AjLOcScTEJjAYnGjzFF23ZgfHUh4enJDDR46zAeHA6Otk7Aoy7rnrg4uB+MhhfV9v6uJm4YGw1XZ3YETgCzN8SiEXXm+IVcBw8SQJjUZErWgrEjHR1HF7CwYtkMLZke12DuIeZSHX/xjsO9o8FH6YErdc37T8KxjcwpFXXm4Fu6OnAVjIYDU4y+I0rGb+eRxtIBBNRUV5ZuzJY+k3Dfqyk7SypzWTwQaXwyIqqLpLA0q2OMp+O/4KzFq99YEng65Djv9TpQCXLjz7bEviND5N/IBEmAgtnEuEs3+nQ4NsQJ4paFhz04cjnjcCnvmzw22k9k8lgoe8wNhEb7h047L+QbRTs27ZvWf7EcZjOJh0A2pPOxJHtdQ8T3ao0v1Al3ep0td2YpK9BV0vU7dVtKmwj9iuR6jHoNNhu4sqtFVC/KzoCGxBfeWVitjvt4d87hexgqJQ6bFZTUF/gXRVMt9ucpYfu1RoF3bQPWSxz9A5Lf9WsFzTew3eH00bQOwp5YH+vNwqCxrTblX8xByDXHQ+H3WmjGYx6s/TA/wB1To1LEYM9RwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAL4qbYeX/ANT/////CtX/1tbWbub+VuL/MY6fXeT/OpCgL4qbMIqbTeD+GNj/Pt7/QpeneOf9L4qbBc31J5esL4qbL4qbGa3KC8XrL4qbEbrcJtr/HqW/L4qbL4qbL4qbMNz/L4qbL4qb3t7egur/L4qbL4qbSbDDV56sQKe78/b2I520c623q8TJZ8vfS5uqL4qb4+bmL4qbhrO7TdHsFrHQme7/kOz+YKOwd9bpVbDBytDR7O3tSMPcTtn1PbrSOcnmXL3Qkr/IW8je4PH0t9bctPD8Z7bFZNzzyuHmRTbZXgAAAEt0Uk5TAP//////////////EO///////zD//49A//+/////z+Bw/6+A//8gYP///////////57/UP//////////////////////////////ZVIN0wAABv5JREFUeJzd2nlX4kgQAHBLholNBzXhiIHhUC5REDwGEcbx3FXn+3+gre5whKSTVAgw7239tTszj5/VR3UVM3t7/8vQi7m/4nZqUP8LrFXlnDV2zurFLBhdfvYXWD6dTLql3bpWFXh3MP746Gd3yebOgA0HrfuP3cJyc9/N+/vx+P6jD/quWLxCxhTZ+5Zptu77sKOLLDZ3+tW6H7dMbX/fbPW5tQtWLwJc/GyNxy1UMTTzk3d2weLmDgRrOu6+pn3y+tZdq8aG7+Z4PDa1mYvyK9926bJKzMDNFdkuWITf2fVWWVxl43PSwoPsZhEesK3WzE52+DnxJCvDHLAt1kyrhOXRXJwod8LmgNe2xYpVnn5513h+qr+MbdVMq8a775qmYrcJ5874cPqlViX8ZGyjWOMq8+F7JkCV8sE2YKvKjPOnMHdfOzQ2/kro14xf/DwIYzE2DstV/h3FSnijzxOuMj9/inb3cY9vN8fi68eN3wehuzvP+AI29y52spGHyg3XN8SKVY4+VBuHxaEyfh/S0nXgjTzI+NiLQ0V2NwRjvyzuEJ1F+BmKSVm5ytRDNY+DZ0jaglg1EIcqnpscFquMhyquK+AkvQ+usri6sdmksBgPhjHu0Aq8ftMlxoN4d2gjsN7JrnOoFvALq67l4ioz4nsQBK/TZsovFEjPX1BkXtga3R6OupAkXRFrwOILBR63Uvky/sljwnKViYdK00Q/r+xxMy8cYrlYIJnxTLm6Qp1MBoOBphgmMocvLE5/i6tMTFczW5PPIQcMbrxqq/NT5uD4hw10WKwy7Q4JdsrQHA6H0p666czh6VE6T4dzVVmpiCyH7t3VdxG/7hDng4WM6aZTKYSJjbUl0yXsrtYyXw3oOqoTVwawV22ZbioGnBMlg/L8mcgyyTabzQXdd+SMk64IItxG95ngajO2+Xj5TcbjDL8D9r5IVwSjjRJYNJ6PEQ6XNXPisDNVxmVzLj8t0pUwZZS4Bbg4PT48PDwIS1qbXLDu3a8VVsSNlB/g4mjppgokuATs5fT0eEYH2NorDBWsWG95ugHyKTdMmGFyAJWjHz9Cac08BzU7l/tQWYHr0TD2GvYRyiG0Zg75W/NRyc5W+wqYC+5R4BoU0un00dEs62MFbU75VSCLIVI2wHbD0aNEG+AknQ6lcX/fQlgn5S6MlnCFAOMWl9PpUPqLP6h3dx6X3k2uEGaYDp7HdDqMxoT/DXW/fWsKuBcbTrtCQWu8G+EK+A4KS/iEMMPUV2E/rQ0idtjZ5P4qHD1KrCy1it4/j1zptWAsmHbaGy76IGPAP1HwoyiaPTccPUroACMfPKOdAAg/007GK/CIAO9loaKAZcgPydPgofs6lYEww+AbEYjGgI1VmDDDdJYVxK868J+twLjJhWA2JV71qygY7zGHEzdMGSWuPcfL4+IbRykg4IZtEozPhOtGeVlxNyLvU1N0AiM3TJph8EVm+UAX1w36EfB3P0zp6HXs5pkd5IrTFVW7RCPghqmjBPa3cp9VbEq8NcBvouFyfFh09Hi28wGwSDlcFo+TB26T4L12TcxfJwFyBcJX+1JUTA9M/VsJXcoFWwnnC+I37wIL2KU4W26YOsPIKEJw0rb8PR6U9KNY6ZXGmjjDOCE3GgrlYBnu1Bf65oongUOTtplDK5P+1RU/cWoFjvf3MB354UyVdL7nyF1/0jcPvp+XNMO4Q3wzgFFR3ayRI/uejEfpgr0K1+PBYmaVoUraLqiS/mPIX+ylEsJ7DefTleWkMku6P3+hL/90Z7+0ehEpM4wvrNlHqQ5ZGebRf8N44PP/raSSw7N7pS4n+QKowrs+lFFCEe1qSNIjhcu8P+KasHwoIaic2L6k/UtDmWHUcmn+oaqkK6tuz38OKaNEQCxkVTmxXXRPdfMSwEtZWU7sUa/AGOuN1O8ZZYYhyMpyEhqJYLcc2J0ExIgyw5DkwO5EHaRRQhF67rZeLFWz4Xdms7B+2/CI6yRNm2EWptUoqcl50uRDFgPW6+FovKTLtBlmT29Uo1EZyu7EHzhvEZouq0jIdRHK7sQborLVIl5Gi5rsIqKTzs9aw5AnSi/GZYFQThb9QjZowdux03Ui4pD1ln+yrs53TTeinJTdf1LZ5zbWdSEs6fkOO5FVzY21BHBgOcl7+gTVYse5RopQJu11lfB1MlhVTnyuspK0E8L+cuLvBNVdn6X6sHhxsqTzfhZKAV+G5BKdLyd6J2U7b9ujiqLZLwZ/CVNPLgdGKfwLiW3RpegHql6K/piYkW3Qvn7RN2pXi7k4/+wXu60NoNmz+jr/8lZ0lwnMhpXon/u2bxvXpTj3LFs9K9ZjrW64b912GsXrUqmmqOnZbK1aPbsu1jvW5kRV6Hq73c7JwP/Q17P+A0PB4JtL2OgsAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAA/40wn1cb////8oYu/61q/7N1/7Bw/8CN/8SV/7V5nFUb/5xL/72H4eHh/6lk/7d+/6FU/6df/7qC/qRa9Icv+4svpF0ipmUv/ZA2/sme/5ZA/8+on1cbn1cbn1cbsmMix28l0XQnn1cb9vX0n1cb7Ovr6oItn1cb/tW03nwr9JhNwGkiunhC3NfUn1cbn1cbn1cbr286n1cbt4Zdn1cbwZh1/uDHx6KD3ZBSn1cboFgcn1cb0b6v49DB7alyn1cbyZBgt3xL4LWR7t/TyrGd78Oe76Nk1aqG8LSDsnlJXfJjQgAAAEt0Uk5TAP/////////////////////////////+//////8Q72D///+P/6///8/////////fMFD/IP9//////79vQP///5////////////9d7sGhEQAAB1JJREFUeJzV22tX4kgQBuChQdGBkdEVEu4hyBACiCAiF10BFXT//w/a7s496a7uSHDP1pc5Z0x4rHpzaybz48f/rZ7u/hP2roPQ+v773ab68fb2oba/mb3rqLPe4+Pjh9pofqfbbGxfH2ntZsj4tqhxu5vd42Ov1qNNT74r6mZDnWOzVqlUajVM7zYIfUPU9Q6avFL2/Nymex9bdPSocbubne2SonSvtlGPGzVp9wM7NZs9d7quvQ7xvI8WdbOBtv52fXRtN1OPFTVuV91UIq5rv24VNDpC1Lhd9aPGYp2wKy+4aSPheeN20eSzxmMpjec9VfC86wm6uF1lU/EfVByaNI0ekmJJu+qLxZ7xi9JnG9y0kUzUuF00/KRTBljbrtR2CyWRqEm7ZMwSrE33dqTrQ08tku7kRaZbl67Uejt8aqHVge2qmzOL/SVVFl37HCoHRE3a3X6ex2BtGw/8/AXTyy9FjdtVJvszwsZQnbbxTvuJ8pWoyaVq8dvq9a+YZfu/F5iOOW/S7vDl1xdQf/0+xXSsqJsNZbg4tfc+qLILVenIRl3vKOoiexjo1s8TTMtFTdrdn/5MrE4xLfFshNudLLIJuoQuLFTRsxF+qloUThOv7PVgJGh3uM8m755c5bsNsN1h/ySbeGG2moLgf/CUj8OWUykT8eGVVs1fnSRcFgvDYyWVquYvC0mylxZLYP7D2BiRLcrVpOhCwWVlYELnrwoJlI9NpXQAfkKllEtfH6heBVgC86/YHmxN/OqACrEE5l+67lA3sC1uOykWhu9DMG47f3kdvxhsKtVCTwBsRneoxqUv8ww2lRoAcJ0F01M7RrFZEayzdypL0zyWwOP4MD2/JFR8L+DWAHrsQy3+jpgWFeuYcksD4QGwp8gGWQIDa5oGDEO0gBXBmmBvQjPsqpAVwCNFuD/DlmFTKQX6pmCEZGBKk8pf5skfMqwANiRhTBP7ep8VZ+sUuFY3/LcnoX29n+yvpDcH4WUcuJodKuqpbMMYXkNw+PbErzJZE6FtQR7u8OFODDi/VxHK5RaXcpuXkoKrffJdGsop+3wC8Jp9X2R9Tn+IKJybnMjFjNASgrm3p7C7oA3TYV9LHZEg3JaES/39hKhTOuxFvyhBa8g4FC4Vy9agt7cz0rLaL0vIIPwguC/abrFPvq9E6u3FxZYOu58pCukWAhbIMnCpmLGOaOX94uLiViFyt5zJiOQDYcxmitagZxd/sPxMYAX/rYjWEbBAXolg4maq9Iie3v5JE5nG3CoLZROCmwKYusX+xAo4naYyjdmkPWeKEAwskAWwNdD+MEcDvsFw2oo5l0NFW+Y23YXgMfSYWbI/2lSsgImbvnFi1qyf8pvG10xogcyHHbev4oantpv2YtYzjsxp+otwyf7Y/iTnBOzJWwznuo6cYcsQ/MSDS+4gdV/AVpGYVTJsF2Y3rYErczbsuV0l5wWcDsasezKraQ1cmTPhkveBWiBgf8yBYbOaHoArcwbstourhYIBB2P2DZshwyvzKOx3TXKJfvYHHIzZP+wIrYML5AjsdxkB+2MODTssm3FgP4sHzQg4GHNg2CHaBFfmLcA1mQEHY27x5S64QNb5Lhk0K2BfzHjYZoZHl2ThIJvJDPCg58xB+2NGYdiVS+ACWee6Ojdgb9hzxrCJbNFycNjtohw3YE+eIsawnaY1aGWuO2zIJYPmBxyIOTpsu2kNWpnrzHatQc9h1415wJBJ0wNoZa6z3S6CA/bkd/awidyCVuY6a8z03gAHHIyZBWeKGrQy1xnt0kuWKOBAzOELGGG7A7SGYJZLBi0KOBizHmbJfa0BZNwZlKIuGbQ4YE8mMXcjLEIj4J2YDmplIi235AK2isYcGrZOF7QN6F8123iDgRmkTfY9mFd2zN5Dp6lZK2n4TZwl2UTT/TdhTTZgb9jP7rBdFhmCl49GdCvFuwi05AP25Hdr2EVzgJziPwVYNba3yw26zqDlA7bKjrlV7LZcVuK9jI6zaU4zyU04VsBWWTEjr1t8ZInf8rr3ts4pOr43xAnYKvtJ218y73i1fdvjew3r4U4o376rARc6hd2qjwIwmsWH/56gUI2EL0/Wm0Z4JzT9Oxb7No18Aqkl9EZG/WHE3GkWp12V+RG4+C+DPLFZXOqzJHsz57q4DPajdRvYBc3lXPaYvWId3mt4F1Ui6ehRFanolWQs3EfY9Ds0Zqci016K94GbvplJsIyvrbkHlr+Apt+2Um70m8Xo+csqbtP8syhUkS9xxRlbxWz6Zi65N2Is3TrinWhto00LzyKvWPdH8Dz2V7hpibPIdZm3i6bs7tu32GcRLf5FcyX7EV7TkmcRYVfQ3XEldVp5TcueRWgEsvTwFlw7nZrHOIsa6zupV9zHDzJn9fZN7iwy2nKqVfVxW3wRFbbbMNrNr7zNP25K6Dxz2V7F6TRa9+Pmw3opecxhcGR0DiVDv8AT/g0e1uvl0hiNGg0/NTKMTqfdXjWf7u6T/H8SR6l/AbyoYsF7uBhUAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRFAAAAn1cb/7l//40w/////5E31tbW/7uDoloe/8GN/7Z6o18mn1cbn1cc/7Fw/5VA/51N/qtn3Hkp9ogv/qRas2Mgn1cbqmgxn1cbzHAln1cbn1cb64ItwWsk/8ibn1cbn1cbn1cb397dn1cbn1cbrW86qWAisHdI35BQn1cbn1cb/rN2zI9d9vTz+L6NyYJHwHxC+K1w/8+pn1cbn1cbxaOG5eXl35tj4qRxunU87ezs7aFiuItl6qx50s7Kx7Gf67aJ5NC/vZZ2sX9VzcG3wYdY9enfyZNm/9Wz2byj/N7FgvxEWwAAAEt0Uk5TAP//////////////EO///////////zD/j/9Av////8/gcP+Ar/////8gYP//////////UJ//////////////////////////////PL8zeQAABwhJREFUeJzd2n1b2kgQAHAHS7NhE60gBJIA4V0QQVErvlWr9fT8/h/oZjeASdgkmwTo89z81au9/JzN7uwMurf3vwytWvkr7siB1l9gzSahpLNzVqvqxBjQ7l9g6fnj88DarctWeTCffX6+6btkK10gvXnj4/Pz832HMK4yGDfqx8ds9vHxDtqu2JFDjPFk9jFrqGpj9g47OshmE+j0sTFDVskpauOdmrtgtSqQ2/mCxVDVdzraBauzPbVic5jyO91+6TId0rtRkV25HN526TIt3FO5BqqqsnQRviFXW2VxlY3xM1M9rAtvtWaO9N7b86zhVzk8J1usmaaF5VFlbC4QCFNnWyxb5bdHVcAy+NHYVs00HUxXWVvkJXyxJbjSpcbbhSJUGaxcGNso1rjKtHdTEKNbhPHSNaYXES7KCG/6ltCusMW4j2QRPjDIZmG+yicH0SyHYaPXE1/luHRZHPTgcnMs3n7UODmNZxG+hc3diyM9dlN54U3di6yBvJVZ5c3C7qaSTNeFN3Ih42WPZ0jq7S7g800MMZUukTlDPnhKqllZtsrG9Eh6lRcwZG1B2Crf3h8kc3OnWWGcShJtqmUUppCl9+EjJ26qxC5mnKXpYuNBmnQZfJK+6WLjAZ0epUg3E6yNdEixqTxwM5WLq0yMdKu8hJ006eKoG3/bR0XhhKTo9kZOtnRZpIDZBwr0PBuby93ThDD/2OZW6j5QsK1WQzrrwj2FRK7JV1miMDN18vw8nz9OBNNE4eiEJOlvcZXZpoo/uqg2Hsc9Chi0N5746cLp0Y8SyMNsL8ttKkVtPJ8TZvZ63Eb6Sy4cHB/mE8CVJttUMquM7BuFwcuf7yx+XSNO5ysZ0z3c30dYsrE2eboSlUptTMYGGTx9/4onA8jYlXm6+wngCisZUumu2Ha7vaIfUFYYy9NlIQkP0ZXpMtTJDWfbd2ffeNwt8GsgN6t0WRC5UaLL3IPTQjSNA3ePswuVx5lLvwC9WKXLYZlR4hLf7/HR0UEkjewtGVz/8rEsfnL5FW5X6WL0pWAL+ifHKEfRymRMegKWrTff3QClL3e/LDPDVABqhz9+HB9HZK1MzuFFyC7lB6j7YIlRAnsN+xDlCFqZ9Oh1+07ILlb7D5CksAPlfP4wilYmU/oUymKwlA2wvXD8KDHElc7nI2l1DNcRrJvyAGpfcF0CxldczOejaOWZvorf7jLOgi+5DvEzzAj3Yz4fRStj+B3pfvvWZnA5MZz/Cj/Nr0hFoYMYl8EvXrgmMcO0fLCAVuYk+g27L/nBD8ePEqMA7KPRLuSmsSudCr4EsPNRdMGAf+LgO1Y0fXD8KKGtdvU67QZA9J52M/bBRQl4T4f6OuwGf0hJDu55j1MRJGYYC0gomgA2/LATD48Ea+0puwyW2VzJYXzJ/XB2n93q/8bBeI6pt2QWQWaUuAqkHHCx4ssUEPDCthSM14T3RAVdPBux56nNOgEfLDXDVAFIKYxl6wYPMTC7jwOwTEevNVG2w1y2u+K2F4eLvv9FapTA/tZ9zyKX3TVA2zHwUyqYdfQA5ZLY5SlHy6y1DsBDKXhv6LD5qxYi19kXI87UGauYAVj2pxIal8u2EC712RdfQgvYGXvFXlh2huFRhfCkbf41Gpb0HbYB/sZacoZxg79oKBfDZXgRH+iff2gWODJpm7i0MOlfA/Yd7/vgZD+HGfGHE1HSpbIrD9aT/vm69v32k/4cptLkT6+LTlYRxEnfcRd8+1JqlPBH1326KGm7L0r6t8H/0rfSaeC9jvt0YTmpL5J+WJbQs9+DxV/ZATjFj0PMxaNEm2y53GhfY7zS5X/W97PDi3MlLifLPRaIfmB9ZEYJQQybEUnXBC4JfospYX5RQlg5We4xT75rSyMzw4hla/lQUdJ1vyvYhzKjREisZFE5sT20sMZmgL9kYTmxi+U+IaRcE99nMjOMhCwsJ5GRCfbKod1JSEjNMFJyaHcSBjupRK1y2apaTd23d8Vvc2OwdtkJiGmSlpthVqbZscRk1MnJCmutaDRZ0kW5GWZP6zTjUR7C7mQ9sKBLNF1mVSLXVQi7k2CwyubE3IymbLKriE+6tGgNI64orZqUBYlysuoX9LAFHyZO142YTebpFsS9l5bSjSknRe+/FPa5nbQuRCW9fMNu6KK50ckAh5aTUqBPEC12kmMkCGHSQVcIX2WDReVkzRVWkmFGeL2crHeC4q7PFD0sWdS+6JK93nVbIR+GVDLtLzfKtaJdsu1ifS1brF3hH8K0ssuhYUV/ILEt2oq/oFpW/GMSht6R+/hF26jdrFaS/NovdlsbQPVuK81v3rLuMoPZMTP9uu/wsnNlJTlnerNbbSVa3WjfvBx1qleW5Qhquq47zWb3qtoamZsTRaFpw+GwwgP/oKWz/gOMH+KIXltAJAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { Direction } from \"./tile-maker\";\r\nimport { Piece } from \"./piece\";\r\nimport { Tile } from \"./tile\";\r\nimport { Board } from \"./board/board\";\r\n\r\nexport interface PossibleMove {\r\n  piece: Piece;\r\n  tileFrom: Tile;\r\n  tileTo: Tile;\r\n  tileScore: number;\r\n  capturing?: boolean;\r\n  // Tile distance from Tile containing the moving piece\r\n  distanceFromPiece: number;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function getPossibleMoves(key: string, board: Board): string[] {\r\n  let possibleMoves = getPossibleMovesWithDetails(key, board);\r\n  return possibleMoves.map((t) => t.tileTo.key);\r\n}\r\n\r\n/**\r\n * To be used by AI Move Finder\r\n */\r\nexport function getPossibleMovesWithDetails(key: string, board: Board): PossibleMove[] {\r\n  let possibleMoves: PossibleMove[] = [];\r\n  let piece = board.state.getPiece(key);\r\n  if (!piece) throw Error(\"Piece not found on Key: \" + key);\r\n\r\n  let tile = board.tiles.get(key);\r\n  if (!tile) throw Error(\"Tile not found: \" + key);\r\n\r\n  for (let moveSet of piece.moveSets) {\r\n    let { type, direction } = moveSet;\r\n    if (type === \"LINEAR\") {\r\n      possibleMoves.push(...getLinearMoves(tile, piece, board, direction as Direction[]));\r\n    } else if (type === \"CONTINUOUS\") {\r\n      possibleMoves.push(\r\n        ...getContinuousMoves(tile, tile, piece, board, direction as Direction, [])\r\n      );\r\n    } else if (type === \"JUMP\") {\r\n      possibleMoves.push(...getJumpMoves(tile, piece, board, direction as Direction[]));\r\n    } else {\r\n      throw new Error(`Invalid Move Type: ${type}`);\r\n    }\r\n  }\r\n  return possibleMoves;\r\n}\r\n\r\n/**\r\n * used for 'linear' moves\r\n */\r\nexport function getLinearMoves(\r\n  tile: Tile,\r\n  piece: Piece,\r\n  board: Board,\r\n  directions: Direction[]\r\n): PossibleMove[] {\r\n  let moves = [];\r\n\r\n  let tmpTile: Tile | null = tile;\r\n  for (let i = 0; i < directions.length; i++) {\r\n    let direction = directions[0];\r\n    let neightbour = tmpTile.walk(direction);\r\n    if (!neightbour) return moves;\r\n    tmpTile = neightbour as Tile;\r\n    let neightbourPiece = board.state.getPiece(neightbour.key);\r\n    let tileScore = getTileScore(neightbour, piece);\r\n    let distanceFromPiece = i + 1;\r\n    let move: PossibleMove = {\r\n      tileFrom: tile,\r\n      tileTo: neightbour,\r\n      piece,\r\n      tileScore,\r\n      distanceFromPiece,\r\n    };\r\n    if (neightbourPiece) {\r\n      if (canTakeNeighbour(piece, neightbourPiece)) {\r\n        move.capturing = true;\r\n        moves.push(move);\r\n      }\r\n      return moves;\r\n    } else {\r\n      moves.push(move);\r\n    }\r\n  }\r\n  return moves;\r\n}\r\n\r\n/**\r\n * used for 'continous' moves\r\n */\r\nexport function getContinuousMoves(\r\n  startingTile: Tile,\r\n  tile: Tile,\r\n  piece: Piece,\r\n  board: Board,\r\n  direction: Direction,\r\n  moves: PossibleMove[] = []\r\n): PossibleMove[] {\r\n  let neightbour = tile.walk(direction);\r\n  if (neightbour) {\r\n    let neightbourPiece = board.state.getPiece(neightbour.key);\r\n    let tileScore = getTileScore(neightbour, piece);\r\n    let distanceFromPiece = moves.length + 1;\r\n    let move: PossibleMove = {\r\n      tileFrom: startingTile,\r\n      tileTo: neightbour,\r\n      piece,\r\n      tileScore,\r\n      distanceFromPiece,\r\n    };\r\n    if (neightbourPiece) {\r\n      if (canTakeNeighbour(piece, neightbourPiece)) {\r\n        move.capturing = true;\r\n        moves.push(move);\r\n        return moves;\r\n      } else {\r\n        return moves;\r\n      }\r\n    } else {\r\n      moves.push(move);\r\n      return getContinuousMoves(startingTile, neightbour, piece, board, direction, moves);\r\n    }\r\n  } else {\r\n    return moves;\r\n  }\r\n}\r\n\r\n/**\r\n * used for 'jump' moves\r\n */\r\nexport function getJumpMoves(\r\n  tile: Tile,\r\n  piece: Piece,\r\n  board: Board,\r\n  directions: Direction[]\r\n): PossibleMove[] {\r\n  let moves = [];\r\n\r\n  let tmpTile: Tile | null = tile;\r\n  for (let i = 0; i < directions.length; i++) {\r\n    let direction = directions[0];\r\n    let neightbour = tmpTile.walk(direction);\r\n    if (neightbour) {\r\n      tmpTile = neightbour as Tile;\r\n      let neightbourPiece = board.state.getPiece(neightbour.key);\r\n      let tileScore = getTileScore(neightbour, piece);\r\n      let distanceFromPiece = i + 1;\r\n      let move: PossibleMove = {\r\n        tileFrom: tile,\r\n        tileTo: neightbour,\r\n        piece,\r\n        tileScore,\r\n        distanceFromPiece,\r\n      };\r\n      if (neightbourPiece) {\r\n        if (canTakeNeighbour(piece, neightbourPiece)) {\r\n          move.capturing = true;\r\n          moves.push(move);\r\n        }\r\n      } else {\r\n        moves.push(move);\r\n      }\r\n    } else {\r\n      return moves;\r\n    }\r\n  }\r\n  return moves;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction canTakeNeighbour(piece: Piece, neighbour: Piece): boolean {\r\n  if (piece.name === \"MAGICIAN\") return true;\r\n\r\n  if (piece.canTake && neighbour.isTakable) {\r\n    if (neighbour.colour !== piece.colour) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction getTileScore(tile: Tile, piece: Piece) {\r\n  let { x, y } = piece.edgePreference;\r\n  return x * tile.xEdge + y * tile.yEdge;\r\n}\r\n","import { createContext, Dispatch } from \"react\";\r\nimport { Board } from \"../board-logic/board/board\";\r\nimport { Colour as PieceColour, PieceName } from \"../board-logic/piece\";\r\nimport { getPossibleMovesWithDetails, PossibleMove } from \"../board-logic/possible-moves\";\r\n\r\ninterface FormatedTile {\r\n  playerTurn: PieceColour;\r\n  key: string;\r\n  colour: string;\r\n  piece: {\r\n    name: PieceName;\r\n    colour: PieceColour;\r\n  } | null;\r\n  isHill: boolean;\r\n  isPossibleMove: boolean;\r\n  isMovingPiece: boolean;\r\n  isPreviousMove: boolean;\r\n  edgeScore: string;\r\n  distanceFromPiece: number | null;\r\n}\r\n\r\nexport interface BoardViewState {\r\n  board: Board | null;\r\n  tiles: FormatedTile[][];\r\n  selectedTile: string | null;\r\n  possibleMoves: string[] | null;\r\n  tileWidth: number;\r\n  boardWidth: number;\r\n  gameMode: string;\r\n  draging: boolean;\r\n  draggedPiece: null | {\r\n    colour: PieceColour;\r\n    name: PieceName;\r\n    tile: string;\r\n  };\r\n  draggedPieceCoords: null | {\r\n    x: number;\r\n    y: number;\r\n  };\r\n}\r\n\r\nexport const boardViewInitialState: BoardViewState = {\r\n  board: null,\r\n  selectedTile: null,\r\n  tiles: [],\r\n  possibleMoves: null,\r\n  gameMode: \"AGAINST_CPU\",\r\n  tileWidth: 90,\r\n  boardWidth: 750,\r\n  draging: false,\r\n  draggedPiece: null,\r\n  draggedPieceCoords: null,\r\n};\r\n\r\nexport type BoardViewAction =\r\n  | { type: \"INIT\"; board: Board; gameMode: string }\r\n  | { type: \"NEW_TURN\" }\r\n  | { type: \"BOARD_WIDTH_CHANGE\"; boardWidth: number; tileWidth: number }\r\n  | { type: \"TILE_SELECT\"; tile: string }\r\n  | { type: \"PIECE_DRAG\"; tile: string; colour: PieceColour; name: PieceName }\r\n  | { type: \"PIECE_DRAG_CONTINUE\"; x: number; y: number }\r\n  | { type: \"PIECE_DRAG_STOP\" }\r\n  | { type: \"NO_TILE_SELECTED\" };\r\n\r\ntype TBoardViewContext = [BoardViewState, Dispatch<BoardViewAction>];\r\n\r\nexport const BoardViewContext = createContext<TBoardViewContext>([boardViewInitialState, () => {}]);\r\n\r\n/**\r\n *\r\n */\r\nexport function boardViewReducer(state: BoardViewState, action: BoardViewAction): BoardViewState {\r\n  switch (action.type) {\r\n    case \"INIT\": {\r\n      const { board, gameMode } = action;\r\n      const tiles = formatTiles(board);\r\n      return { ...boardViewInitialState, board, tiles, gameMode };\r\n    }\r\n\r\n    case \"NEW_TURN\": {\r\n      const { board } = state;\r\n      if (!board) throw Error(\"Board not set\");\r\n      const tiles = formatTiles(board);\r\n      return {\r\n        ...state,\r\n        tiles,\r\n        selectedTile: null,\r\n        draging: false,\r\n        draggedPiece: null,\r\n        draggedPieceCoords: null,\r\n      };\r\n    }\r\n\r\n    case \"BOARD_WIDTH_CHANGE\": {\r\n      const { boardWidth, tileWidth } = action;\r\n      return { ...state, boardWidth, tileWidth };\r\n    }\r\n\r\n    case \"PIECE_DRAG\": {\r\n      const { tile, colour, name } = action;\r\n      if (!state.board) throw Error(\"Board not set\");\r\n      const possibleMovesWithDetails = getPossibleMovesWithDetails(tile, state.board);\r\n      const possibleMoves = possibleMovesWithDetails.map((m) => m.tileTo.key);\r\n      const tiles = formatTiles(state.board, possibleMovesWithDetails, tile, tile);\r\n      const draggedPiece = { tile, colour, name };\r\n      return { ...state, tiles, possibleMoves, draggedPiece, draging: true, selectedTile: tile };\r\n    }\r\n\r\n    case \"PIECE_DRAG_CONTINUE\": {\r\n      const { x, y } = action;\r\n      return { ...state, draggedPieceCoords: { x, y } };\r\n    }\r\n\r\n    case \"PIECE_DRAG_STOP\": {\r\n      if (!state.board) throw Error(\"Board not set\");\r\n      const tiles = formatTiles(state.board);\r\n      return { ...state, tiles, draggedPiece: null, draggedPieceCoords: null };\r\n    }\r\n\r\n    case \"TILE_SELECT\": {\r\n      const { tile } = action;\r\n      if (!state.board) throw Error(\"Board not set\");\r\n      const possibleMovesWithDetails = getPossibleMovesWithDetails(tile, state.board);\r\n      const possibleMoves = possibleMovesWithDetails.map((m) => m.tileTo.key);\r\n      const tiles = formatTiles(state.board, possibleMovesWithDetails, tile);\r\n      return { ...state, tiles, possibleMoves, selectedTile: tile };\r\n    }\r\n\r\n    case \"NO_TILE_SELECTED\": {\r\n      if (!state.board) throw Error(\"Board not set\");\r\n      const tiles = formatTiles(state.board);\r\n      return {\r\n        ...state,\r\n        tiles,\r\n        possibleMoves: null,\r\n        selectedTile: null,\r\n        draggedPiece: null,\r\n        draggedPieceCoords: null,\r\n        draging: false,\r\n      };\r\n    }\r\n\r\n    default:\r\n      throw new Error(`Invalid Action`);\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function formatTiles(\r\n  board: Board,\r\n  possibleMoves: PossibleMove[] = [],\r\n  movingPiece?: string,\r\n  draggedPiece?: string\r\n): FormatedTile[][] {\r\n  const lastMove = board.state.getLastMove();\r\n  const playerTurn = board.state.player;\r\n\r\n  return board.yAxis.map((y) => {\r\n    return board.xAxis.map((x) => {\r\n      const key = x + y;\r\n      const tile = board.tiles.get(key);\r\n      if (!tile) throw Error(\"Invalid Tile \" + key);\r\n\r\n      const possibleMoveTile = possibleMoves.find((m) => m.tileTo.key === key);\r\n      const distanceFromPiece = possibleMoveTile ? possibleMoveTile.distanceFromPiece : null;\r\n      const isPossibleMove = possibleMoveTile ? true : false;\r\n      let isMovingPiece = false;\r\n      if (movingPiece && movingPiece === key) isMovingPiece = true;\r\n\r\n      const isPreviousMove = lastMove ? lastMove.includes(key) : false;\r\n\r\n      const _piece = board.state.getPiece(tile.key);\r\n      let piece = null;\r\n      if (_piece) {\r\n        piece = {\r\n          name: _piece.name,\r\n          colour: _piece.colour,\r\n        };\r\n      }\r\n\r\n      // Do not render piece that is being dragged\r\n      if (draggedPiece && draggedPiece === key) {\r\n        piece = null;\r\n      }\r\n\r\n      return {\r\n        playerTurn,\r\n        key,\r\n        colour: tile.colour,\r\n        piece,\r\n        isHill: tile.isHill,\r\n        isPossibleMove,\r\n        isMovingPiece,\r\n        isPreviousMove,\r\n        edgeScore: tile.xEdge + \" - \" + tile.yEdge,\r\n        distanceFromPiece,\r\n      };\r\n    });\r\n  });\r\n}\r\n","import { useContext, CSSProperties, MouseEvent } from \"react\";\r\nimport { BoardViewContext } from \"./board-view-reducer\";\r\nimport { Piece } from \"./piece\";\r\nimport { Colour, PieceName } from \"../board-logic/piece\";\r\n\r\ninterface TileProps {\r\n  playerTurn: Colour;\r\n  tileKey: string;\r\n  colour: string;\r\n  isHill: boolean;\r\n  isPossibleMove: boolean;\r\n  isMovingPiece: boolean;\r\n  isPrevMove: boolean;\r\n  edgeScore?: any;\r\n  distanceFromPiece?: number | null;\r\n  piece: { name: PieceName; colour: Colour } | null;\r\n  playable: boolean;\r\n  onPieceMove?: (from: string, to: string) => void;\r\n}\r\n\r\nexport default function Tile(opt: TileProps) {\r\n  //console.log(\"TILE RENDER\");\r\n  const {\r\n    playerTurn,\r\n    isHill,\r\n    colour,\r\n    isPossibleMove,\r\n    isMovingPiece,\r\n    piece,\r\n    tileKey,\r\n    isPrevMove,\r\n    distanceFromPiece,\r\n    playable,\r\n    onPieceMove,\r\n  } = opt;\r\n\r\n  const [state, dispatch] = useContext(BoardViewContext);\r\n  const { board, draggedPiece, selectedTile, possibleMoves, gameMode, tileWidth, boardWidth } =\r\n    state;\r\n  if (!board) throw Error(\"Board not defined\");\r\n\r\n  const status = board.state.status;\r\n\r\n  /**\r\n   * For detecting piece drops on tile\r\n   */\r\n  function onMouseUp(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    if (!draggedPiece) return;\r\n    if (!selectedTile) return;\r\n    if (!possibleMoves) throw Error(\"'possibleMove' Array not set\");\r\n    // Check if move is legal\r\n    let moveIsLegal = possibleMoves.includes(tileKey);\r\n    // If move not legal, clear board\r\n    if (!moveIsLegal) {\r\n      dispatch({ type: \"NO_TILE_SELECTED\" });\r\n    }\r\n    // Else make move\r\n    else {\r\n      if (onPieceMove) onPieceMove(selectedTile, tileKey);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onPieceDrag() {\r\n    if (!piece) return;\r\n    const { name, colour } = piece;\r\n    dispatch({ type: \"PIECE_DRAG\", name, colour, tile: tileKey });\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onPieceClick() {\r\n    if (!piece) return;\r\n    if (!playable) return;\r\n    if (status !== \"ACTIVE\") return;\r\n    if (selectedTile) {\r\n      if (!possibleMoves) throw Error(\"'possibleMove' Array not set\");\r\n      // Check if move is legal\r\n      let moveIsLegal = possibleMoves.includes(tileKey);\r\n      // If move not legal, clear board\r\n      if (!moveIsLegal) {\r\n        dispatch({ type: \"NO_TILE_SELECTED\" });\r\n      } else {\r\n        if (onPieceMove) onPieceMove(selectedTile, tileKey);\r\n      }\r\n    } else {\r\n      dispatch({ type: \"TILE_SELECT\", tile: tileKey });\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onClick(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    if (!playable || !selectedTile) return;\r\n    if (!possibleMoves) throw Error(\"possibleMove Array not set\");\r\n    // Check if move is legal\r\n    let moveIsLegal = possibleMoves.includes(tileKey);\r\n    // If move not legal, clear board\r\n    if (!moveIsLegal) {\r\n      dispatch({ type: \"NO_TILE_SELECTED\" });\r\n    }\r\n    // Else make move\r\n    else {\r\n      if (onPieceMove) onPieceMove(selectedTile, tileKey);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * STYLE & CLASSES\r\n   */\r\n  let classes = [\"tile\"];\r\n\r\n  if (playerTurn === \"BLACK\") classes.push(\"black-turn\");\r\n  else classes.push(\"white-turn\");\r\n\r\n  if (isMovingPiece) classes.push(\"moving-piece\");\r\n  if (isHill) classes.push(\"hill\");\r\n\r\n  if (colour === \"DARK\") classes.push(\"dark\");\r\n  else classes.push(\"light\");\r\n\r\n  if (boardWidth < 400) classes.push(\"sm\");\r\n\r\n  let tileStyle = { width: tileWidth, height: tileWidth };\r\n\r\n  let highlightHtml = null;\r\n  if (isPossibleMove || isPrevMove) {\r\n    // Only show 'previous move' when tile is no a 'possible move'\r\n    if (isPrevMove && !isPossibleMove) classes.push(\"prev-move\");\r\n\r\n    let style: CSSProperties = {};\r\n    if (distanceFromPiece) {\r\n      style.animationDelay = (distanceFromPiece - 1) / 20 + \"s\";\r\n    }\r\n    highlightHtml = (\r\n      <>\r\n        <div className=\"highlight-corner highlight-top-right\" style={style}></div>\r\n        <div className=\"highlight-corner highlight-top-left\" style={style}></div>\r\n        <div className=\"highlight-corner highlight-bottom-left\" style={style}></div>\r\n        <div className=\"highlight-corner highlight-bottom-right\" style={style}></div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * PIECE PROPS\r\n   */\r\n  let pieceElement = null;\r\n  if (piece) {\r\n    // Piece size always 85% of Tile size\r\n    let pieceWidth = Math.floor((tileWidth * 80) / 100);\r\n    // If piece is selected, increase its size\r\n    if (selectedTile === tileKey) {\r\n      pieceWidth += 5;\r\n    }\r\n\r\n    let movable = false;\r\n    if (status === \"ACTIVE\" && playable) {\r\n      if (gameMode === \"AGAINST_CPU\") {\r\n        // Can only move WHITE pieces & can only do it on WHITE's turn\r\n        if (playerTurn === \"WHITE\" && piece.colour === \"WHITE\") {\r\n          movable = true;\r\n        }\r\n      } else if (gameMode === \"AGAINST_HUMAN\") {\r\n        // Can only move your pieces when your turn\r\n        if (playerTurn === piece.colour) {\r\n          movable = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    let isGolden = false;\r\n    if (status !== \"ACTIVE\" && isHill && piece.name === \"KING\") {\r\n      isGolden = true;\r\n    }\r\n\r\n    pieceElement = (\r\n      <Piece\r\n        name={piece.name}\r\n        colour={piece.colour}\r\n        movable={movable}\r\n        width={pieceWidth}\r\n        isGolden={isGolden}\r\n        onPieceDrag={onPieceDrag}\r\n        onPieceClick={onPieceClick}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div onMouseUp={onMouseUp} onClick={onClick} className={classes.join(\" \")} style={tileStyle}>\r\n      {pieceElement}\r\n      {highlightHtml}\r\n    </div>\r\n  );\r\n}\r\n","import { Piece } from \"./piece\";\r\nimport { useEffect, useCallback, useReducer, MouseEvent } from \"react\";\r\nimport { useWindowEvent } from \"../utils\";\r\nimport Tile from \"./tile\";\r\nimport { Board } from \"../board-logic/board/board\";\r\nimport { boardViewReducer, boardViewInitialState, BoardViewContext } from \"./board-view-reducer\";\r\n\r\ninterface BoardViewProps {\r\n  board: Board;\r\n  // 'token' is randmon number that changes everytime board.state changes.\r\n  // Used by parent component to trigger board-view re-renders\r\n  token: number | null;\r\n  gameMode: string;\r\n  playable: boolean;\r\n  // Suggested board width from parent component.\r\n  boardMaxWidth: number;\r\n  selectTile: null | string;\r\n  onPieceMove?: (from: string, to: string) => void;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport default function BoardView(opt: BoardViewProps) {\r\n  //console.log(\"RENDER\");\r\n  const { board, token, playable, gameMode, boardMaxWidth, selectTile, onPieceMove } = opt;\r\n  const [state, dispatch] = useReducer(boardViewReducer, boardViewInitialState);\r\n  const { selectedTile, draggedPiece, draggedPieceCoords } = state;\r\n\r\n  /**\r\n   * Initialise Board\r\n   */\r\n  useEffect(() => {\r\n    dispatch({ type: \"INIT\", board, gameMode });\r\n  }, []);\r\n\r\n  /**\r\n   * On new turn.\r\n   * Or on board reset.\r\n   */\r\n  useEffect(() => {\r\n    dispatch({ type: \"NEW_TURN\" });\r\n  }, [token]);\r\n\r\n  /**\r\n   * simulate CPU move\r\n   */\r\n  useEffect(() => {\r\n    if (selectTile) {\r\n      dispatch({ type: \"TILE_SELECT\", tile: selectTile });\r\n    }\r\n  }, [selectTile, onPieceMove]);\r\n\r\n  /**\r\n   * Set Board and Tile width\r\n   */\r\n  useEffect(() => {\r\n    const boardColumnCount = board.xAxis.length;\r\n    let boardWidth = boardMaxWidth;\r\n    let tileWidth = Math.floor(boardWidth / boardColumnCount);\r\n    boardWidth = tileWidth * boardColumnCount;\r\n    dispatch({ type: \"BOARD_WIDTH_CHANGE\", boardWidth, tileWidth });\r\n  }, [boardMaxWidth, board.xAxis.length]);\r\n\r\n  /**\r\n   * For detecting mouse click and mouse-ups outside Board\r\n   */\r\n  const onWindowMouseUp = useCallback(() => {\r\n    if (selectedTile) {\r\n      dispatch({ type: \"NO_TILE_SELECTED\" });\r\n    }\r\n  }, [selectedTile]);\r\n\r\n  useWindowEvent(\"mouseup\", onWindowMouseUp);\r\n\r\n  /**\r\n   * On Window mouse\r\n   * check if piece was dragged. Then re-render board with\r\n   * new dragged piece x, y coordinates equal to mouse x, y.\r\n   */\r\n  const onWindowMouseMove = useCallback(\r\n    (e: MouseEvent) => {\r\n      if (draggedPiece) {\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        dispatch({ type: \"PIECE_DRAG_CONTINUE\", x, y });\r\n      }\r\n    },\r\n    [draggedPiece]\r\n  );\r\n\r\n  useWindowEvent(\"mousemove\", onWindowMouseMove);\r\n\r\n  /**\r\n   * Returns an Array of <div class=\"row\"> Elements\r\n   * that contain a row of Tiles\r\n   */\r\n  const boardRowsHtml = state.tiles.map((tileRows, i) => {\r\n    const rowHtml = tileRows.map((tileRow) => {\r\n      const {\r\n        playerTurn,\r\n        key,\r\n        colour,\r\n        piece,\r\n        isPossibleMove,\r\n        isMovingPiece,\r\n        isHill,\r\n        edgeScore,\r\n        distanceFromPiece,\r\n        isPreviousMove,\r\n      } = tileRow;\r\n\r\n      return (\r\n        <Tile\r\n          playerTurn={playerTurn}\r\n          key={key}\r\n          colour={colour}\r\n          tileKey={key}\r\n          isHill={isHill}\r\n          isPossibleMove={isPossibleMove}\r\n          edgeScore={edgeScore}\r\n          isMovingPiece={isMovingPiece}\r\n          piece={piece}\r\n          distanceFromPiece={distanceFromPiece}\r\n          isPrevMove={isPreviousMove}\r\n          playable={playable}\r\n          onPieceMove={onPieceMove}\r\n        />\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"row\" key={i}>\r\n        {rowHtml}\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <BoardViewContext.Provider value={[state, dispatch]}>\r\n      {draggedPiece && draggedPieceCoords && (\r\n        <Piece\r\n          name={draggedPiece.name}\r\n          colour={draggedPiece.colour}\r\n          width={state.tileWidth - 20}\r\n          position={{ x: draggedPieceCoords.x, y: draggedPieceCoords.y }}\r\n        />\r\n      )}\r\n      <div\r\n        className={`board-inner ${selectedTile ? \"drag\" : \"\"}`}\r\n        style={{ width: state.boardWidth, height: state.boardWidth }}\r\n      >\r\n        {boardRowsHtml}\r\n      </div>\r\n    </BoardViewContext.Provider>\r\n  );\r\n}\r\n","import { useState, useEffect, ReactNode } from \"react\";\r\nimport ReactModal from \"react-modal\";\r\n\r\nReactModal.setAppElement(\"#root\");\r\n\r\ninterface ModalProp {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: ReactNode;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function Modal(props: ModalProp) {\r\n  const { isOpen, onClose, title, children } = props;\r\n\r\n  return (\r\n    <ReactModal\r\n      isOpen={isOpen}\r\n      onRequestClose={onClose}\r\n      shouldCloseOnOverlayClick\r\n      shouldCloseOnEsc\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-overlay\"\r\n      contentLabel=\"Modal\"\r\n    >\r\n      <button className=\"modal-close\" onClick={onClose}>\r\n        X\r\n      </button>\r\n      <div className=\"modal-header\">{title}</div>\r\n      <div className=\"modal-content\">{children}</div>\r\n    </ReactModal>\r\n  );\r\n}\r\n","import { Direction } from \"./tile-maker\";\r\nimport { Piece } from \"./piece\";\r\n\r\nexport type TileColour = \"DARK\" | \"LIGHT\";\r\n\r\nexport type TileConfig = {\r\n  key: string;\r\n  x: number;\r\n  y: number;\r\n  isHill: boolean;\r\n  xEdge: number; // A number between 0 & 1, indication how far the tile is away from the centre\r\n  yEdge: number;\r\n  colour: TileColour;\r\n};\r\n\r\nexport class Tile {\r\n  key: string;\r\n  x: number;\r\n  y: number;\r\n  colour: TileColour;\r\n  neighbours: Map<Direction, Tile>;\r\n  isHill: boolean;\r\n  xEdge: number;\r\n  yEdge: number;\r\n\r\n  constructor({ key, x, y, colour, isHill, xEdge, yEdge }: TileConfig) {\r\n    this.key = key;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.colour = colour;\r\n    this.neighbours = new Map();\r\n    this.isHill = isHill;\r\n    this.xEdge = xEdge;\r\n    this.yEdge = yEdge;\r\n  }\r\n\r\n  addPiece(piece: Piece) {}\r\n\r\n  removePiece() {}\r\n\r\n  getPossibleMoves() {\r\n    //\r\n  }\r\n\r\n  walk(direction: Direction) {\r\n    return this.neighbours.get(direction);\r\n  }\r\n}\r\n","import { Tile, TileColour } from \"./tile\";\r\n\r\nexport type MoveDirections = Array<0 | 1 | -1>;\r\n\r\n/**\r\n * 'TELE_' moves are special SPY moves that help SPY\r\n * move from edge of the board to the other edge\r\n */\r\nexport type Direction =\r\n  | \"UP\"\r\n  | \"RIGHT\"\r\n  | \"DOWN\"\r\n  | \"LEFT\"\r\n  | \"UP_RIGHT\"\r\n  | \"DOWN_RIGHT\"\r\n  | \"DOWN_LEFT\"\r\n  | \"UP_LEFT\"\r\n  | \"TELE_UP\"\r\n  | \"TELE_RIGHT\"\r\n  | \"TELE_DOWN\"\r\n  | \"TELE_LEFT\"\r\n  | \"TELE_UP_RIGHT\"\r\n  | \"TELE_DOWN_RIGHT\"\r\n  | \"TELE_DOWN_LEFT\"\r\n  | \"TELE_UP_LEFT\";\r\n\r\ntype NeighbourFinderConfig = { xAxis: string[]; yAxis: string[]; x: number; y: number };\r\n\r\ntype NeighbourFinder = (config: NeighbourFinderConfig) => string | undefined;\r\n\r\ntype NeighbourFinderMap = Map<Direction, NeighbourFinder>;\r\n\r\nconst getLast = (arr: string[]) => arr[arr.length - 1];\r\nconst isLast = (index: number, arr: string[]) => index === arr.length - 1;\r\n/**\r\n *\r\n */\r\nfunction findAdjacentTile(\r\n  config: NeighbourFinderConfig,\r\n  xIncrement: number,\r\n  yIncrement: number\r\n): string | undefined {\r\n  let { xAxis, yAxis, x, y } = config;\r\n  if (xAxis[x + xIncrement] && yAxis[y + yIncrement]) {\r\n    return xAxis[x + xIncrement] + yAxis[y + yIncrement];\r\n  }\r\n}\r\n\r\nconst neighbourFinderMap: NeighbourFinderMap = new Map([\r\n  [\"UP\", (c) => findAdjacentTile(c, 0, -1)],\r\n  [\"RIGHT\", (c) => findAdjacentTile(c, 1, 0)],\r\n  [\"DOWN\", (c) => findAdjacentTile(c, 0, 1)],\r\n  [\"LEFT\", (c) => findAdjacentTile(c, -1, 0)],\r\n  [\"UP_RIGHT\", (c) => findAdjacentTile(c, 1, 1)],\r\n  [\"DOWN_RIGHT\", (c) => findAdjacentTile(c, 1, -1)],\r\n  [\"DOWN_LEFT\", (c) => findAdjacentTile(c, -1, -1)],\r\n  [\"UP_LEFT\", (c) => findAdjacentTile(c, -1, 1)],\r\n\r\n  [\r\n    \"TELE_UP\",\r\n    (c) => {\r\n      if (c.y !== 0) return undefined;\r\n      if (c.xAxis[c.x] && c.yAxis[c.yAxis.length - 1]) {\r\n        return c.xAxis[c.x] + c.yAxis[c.yAxis.length - 1];\r\n      }\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_RIGHT\",\r\n    (c) => {\r\n      if (c.x !== c.xAxis.length - 1) return undefined;\r\n      if (c.xAxis[c.xAxis.length - 1] && c.yAxis[c.y]) {\r\n        return c.xAxis[0] + c.yAxis[c.y];\r\n      }\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_DOWN\",\r\n    (c) => {\r\n      if (c.y !== c.yAxis.length - 1) return undefined;\r\n      if (c.xAxis[c.x] && c.yAxis[0]) {\r\n        return c.xAxis[c.x] + c.yAxis[0];\r\n      }\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_LEFT\",\r\n    (c) => {\r\n      if (c.x !== 0) return undefined;\r\n      if (c.xAxis[c.xAxis.length - 1] && c.yAxis[c.y]) {\r\n        return c.xAxis[c.xAxis.length - 1] + c.yAxis[c.y];\r\n      }\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_UP_RIGHT\",\r\n    (c) => {\r\n      if (isLast(c.x, c.xAxis) && c.y === 0) return c.xAxis[0] + getLast(c.yAxis);\r\n      else if (isLast(c.x, c.xAxis)) return c.xAxis[0] + c.yAxis[c.y - 1];\r\n      else if (c.y === 0) return c.xAxis[c.x + 1] + getLast(c.yAxis);\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_UP_LEFT\",\r\n    (c) => {\r\n      if (c.x === 0 && c.y === 0) return c.xAxis[c.xAxis.length - 1] + c.yAxis[c.yAxis.length - 1];\r\n      else if (c.x === 0) return c.xAxis[c.xAxis.length - 1] + c.yAxis[c.y - 1];\r\n      else if (c.y === 0) return c.xAxis[c.x - 1] + c.yAxis[c.yAxis.length - 1];\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_DOWN_RIGHT\",\r\n    (c) => {\r\n      if (isLast(c.x, c.xAxis) && isLast(c.y, c.yAxis)) return c.xAxis[0] + c.yAxis[0];\r\n      else if (isLast(c.x, c.xAxis)) return c.xAxis[0] + c.yAxis[c.y + 1];\r\n      else if (isLast(c.y, c.yAxis)) return c.xAxis[c.x + 1] + c.yAxis[0];\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TELE_DOWN_LEFT\",\r\n    (c) => {\r\n      if (c.x === 0 && c.y === c.yAxis.length - 1) return getLast(c.xAxis) + c.yAxis[0];\r\n      else if (c.x === 0) return getLast(c.xAxis) + c.yAxis[c.y + 1];\r\n      else if (c.y === c.yAxis.length - 1) return c.xAxis[c.x - 1] + c.yAxis[0];\r\n    },\r\n  ],\r\n]);\r\n\r\ninterface TileMakerConfig {\r\n  xAxis: string[];\r\n  yAxis: string[];\r\n  hills?: string[];\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function makeBoardTilesFromAxis({\r\n  hills,\r\n  xAxis,\r\n  yAxis,\r\n}: TileMakerConfig): Map<string, Tile> {\r\n  let tiles: Map<string, Tile> = new Map();\r\n\r\n  // Reverse Y Axis array so that first Rank is at bottom of board\r\n  // This way top left Tile is 'A7' and bottom left Tile is 'A1'\r\n  yAxis.reverse();\r\n\r\n  // Create Board Tiles with empty Neighbours\r\n  xAxis.forEach((xValue, x) => {\r\n    yAxis.forEach((yValue, y) => {\r\n      let key = xValue + yValue;\r\n      let isHill = hills ? hills.includes(key) : false;\r\n      let xEdge = getEdgeScore(xAxis.length, x);\r\n      let yEdge = getEdgeScore(yAxis.length, y);\r\n      let colour = getTileColour(x, y);\r\n      let tile = new Tile({ key, x, y, colour, isHill, xEdge, yEdge });\r\n      tiles.set(key, tile);\r\n    });\r\n  });\r\n\r\n  // Populate Neighbours\r\n  tiles.forEach((tile, tileKey) => {\r\n    let { x, y } = tile;\r\n    neighbourFinderMap.forEach((finder, direction) => {\r\n      let neighbourKey = finder({ x, y, xAxis, yAxis });\r\n      if (neighbourKey) {\r\n        let neighbour = tiles.get(neighbourKey);\r\n        if (neighbour) tile.neighbours.set(direction, neighbour);\r\n      }\r\n    });\r\n  });\r\n\r\n  return tiles;\r\n}\r\n\r\n/**\r\n * Whether Tile is Black or White\r\n */\r\nfunction getTileColour(x: number, y: number): TileColour {\r\n  if (y % 2 === 0) {\r\n    if (x % 2 === 0) return \"DARK\";\r\n    else return \"LIGHT\";\r\n  } else {\r\n    if (x % 2 === 0) return \"LIGHT\";\r\n    else return \"DARK\";\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate how far from the center the Tile is\r\n */\r\nfunction getEdgeScore(boardWidth: number, tileIndex: number) {\r\n  let centrePosition = Math.floor(boardWidth / 2);\r\n  let distanceFromCentre = Math.abs(centrePosition - tileIndex);\r\n  return Math.round(distanceFromCentre);\r\n}\r\n","import { Direction } from \"./tile-maker\";\r\n\r\nexport type Colour = \"BLACK\" | \"WHITE\";\r\n\r\ntype PieceMoves = Array<{\r\n  type: \"LINEAR\" | \"CONTINUOUS\" | \"JUMP\";\r\n  direction: Direction | Direction[];\r\n}>;\r\n\r\ninterface PieceDesc {\r\n  isTakable: boolean;\r\n  canTake: boolean;\r\n  value: number;\r\n  moveSets: PieceMoves;\r\n  edgePreference: { x: number; y: number };\r\n}\r\n\r\nexport type PieceName = \"KING\" | \"TOWER\" | \"CHARIOT\" | \"SPY\" | \"ARCHER\" | \"MAGICIAN\";\r\n\r\nexport const pieceDescMap: Map<PieceName, PieceDesc> = new Map([\r\n  [\r\n    \"KING\",\r\n    {\r\n      isTakable: true,\r\n      canTake: true,\r\n      value: 1000,\r\n      moveSets: [\r\n        { type: \"LINEAR\", direction: [\"UP\"] },\r\n        { type: \"LINEAR\", direction: [\"RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN\"] },\r\n        { type: \"LINEAR\", direction: [\"LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"UP_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN_LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"UP_LEFT\"] },\r\n      ],\r\n      edgePreference: { x: -2, y: -2 },\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"TOWER\",\r\n    {\r\n      isTakable: false,\r\n      canTake: false,\r\n      value: 1,\r\n      moveSets: [\r\n        { type: \"LINEAR\", direction: [\"UP\"] },\r\n        { type: \"LINEAR\", direction: [\"RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN\"] },\r\n        { type: \"LINEAR\", direction: [\"LEFT\"] },\r\n      ],\r\n      edgePreference: { x: 0, y: -2 },\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"CHARIOT\",\r\n    {\r\n      isTakable: true,\r\n      canTake: true,\r\n      value: 20,\r\n      moveSets: [\r\n        { type: \"LINEAR\", direction: [\"UP\", \"UP\", \"UP\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN\", \"DOWN\", \"DOWN\"] },\r\n        { type: \"CONTINUOUS\", direction: \"RIGHT\" },\r\n        { type: \"CONTINUOUS\", direction: \"LEFT\" },\r\n      ],\r\n      edgePreference: { x: 0, y: -1 },\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"ARCHER\",\r\n    {\r\n      isTakable: true,\r\n      canTake: true,\r\n      value: 15,\r\n      moveSets: [\r\n        { type: \"JUMP\", direction: [\"UP_RIGHT\", \"UP_RIGHT\"] },\r\n        { type: \"JUMP\", direction: [\"DOWN_RIGHT\", \"DOWN_RIGHT\"] },\r\n        { type: \"JUMP\", direction: [\"DOWN_LEFT\", \"DOWN_LEFT\"] },\r\n        { type: \"JUMP\", direction: [\"UP_LEFT\", \"UP_LEFT\"] },\r\n      ],\r\n      edgePreference: { x: -1, y: -1 },\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"MAGICIAN\",\r\n    {\r\n      isTakable: true,\r\n      canTake: false,\r\n      value: 15,\r\n      moveSets: [\r\n        { type: \"CONTINUOUS\", direction: \"UP\" },\r\n        { type: \"CONTINUOUS\", direction: \"RIGHT\" },\r\n        { type: \"CONTINUOUS\", direction: \"DOWN\" },\r\n        { type: \"CONTINUOUS\", direction: \"LEFT\" },\r\n        { type: \"CONTINUOUS\", direction: \"UP_RIGHT\" },\r\n        { type: \"CONTINUOUS\", direction: \"DOWN_RIGHT\" },\r\n        { type: \"CONTINUOUS\", direction: \"DOWN_LEFT\" },\r\n        { type: \"CONTINUOUS\", direction: \"UP_LEFT\" },\r\n      ],\r\n      edgePreference: { x: 0, y: 0 },\r\n    },\r\n  ],\r\n\r\n  [\r\n    \"SPY\",\r\n    {\r\n      isTakable: true,\r\n      canTake: true,\r\n      value: 25,\r\n      moveSets: [\r\n        { type: \"LINEAR\", direction: [\"UP\"] },\r\n        { type: \"LINEAR\", direction: [\"RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN\"] },\r\n        { type: \"LINEAR\", direction: [\"LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"UP_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"DOWN_LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"UP_LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_UP\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_DOWN\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_UP_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_UP_LEFT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_DOWN_RIGHT\"] },\r\n        { type: \"LINEAR\", direction: [\"TELE_DOWN_LEFT\"] },\r\n      ],\r\n      edgePreference: { x: 0, y: 0 },\r\n    },\r\n  ],\r\n]);\r\n\r\nexport class Piece {\r\n  name: PieceName;\r\n  id: number;\r\n  colour: Colour;\r\n  isTakable: boolean;\r\n  canTake: boolean;\r\n  value: number;\r\n  moveSets: PieceMoves;\r\n  edgePreference: { x: number; y: number };\r\n\r\n  constructor(pieceDesc: PieceDesc, name: PieceName, colour: Colour) {\r\n    let { isTakable, canTake, value, moveSets, edgePreference } = pieceDesc;\r\n    this.id = Math.floor(Math.random() * 10000000);\r\n    this.name = name;\r\n    this.colour = colour;\r\n    this.isTakable = isTakable;\r\n    this.canTake = canTake;\r\n    this.value = value;\r\n    this.moveSets = moveSets;\r\n    this.edgePreference = { x: edgePreference.x, y: edgePreference.y };\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function makePiece(name: PieceName, colour: Colour) {\r\n  let pieceDesc = pieceDescMap.get(name);\r\n  if (!pieceDesc) throw Error(\"Invalid Piece name: \" + name);\r\n  return new Piece(pieceDesc, name, colour);\r\n}\r\n","import { Piece, Colour, PieceName, makePiece } from \"../piece\";\r\n\r\nconst startingPlayer = \"WHITE\";\r\n\r\ntype ActivePieces = Map<string, Piece>;\r\n\r\n// null on turn 1, [moveFrom, moveTo] on rest\r\ntype LastMove = null | [string, string];\r\n\r\ninterface State {\r\n  lastMove: LastMove;\r\n  activePieces: ActivePieces;\r\n  capturedPieces: Piece[];\r\n}\r\n\r\ntype JSONBoardStateTileKey = string | null;\r\ntype JSONBoardStatePiece = [JSONBoardStateTileKey, Colour, PieceName];\r\ntype JSONBoardStateSingle = {\r\n  lastMove: LastMove;\r\n  pieces: JSONBoardStatePiece[];\r\n};\r\nexport type JSONBoardState = JSONBoardStateSingle[];\r\n\r\ntype Status = \"ACTIVE\" | \"DRAW\" | Colour;\r\n\r\n/**\r\n *\r\n */\r\nexport class BoardState {\r\n  private stateHistory: State[] = [];\r\n  player: Colour = startingPlayer;\r\n  status: Status = \"ACTIVE\";\r\n  turn = 1;\r\n  seed = generateSeed();\r\n\r\n  /**\r\n   * Takes a Tile key and returns its piece in current position\r\n   */\r\n  getPiece(key: string) {\r\n    const state = this.stateHistory[this.turn - 1];\r\n    if (!state) throw new Error(`Invalid State for Turn: ${this.turn}`);\r\n    const piece = state.activePieces.get(key);\r\n    return piece;\r\n  }\r\n\r\n  /**\r\n   * Returns active pieces in current position.\r\n   * Return value is a Javascript Map where\r\n   * key is Tile key and value is a Piece Object\r\n   */\r\n  getActivePieces(): ActivePieces {\r\n    const state = this.stateHistory[this.turn - 1];\r\n    if (!state) throw new Error(`Invalid State for Turn: ${this.turn}`);\r\n    return state.activePieces;\r\n  }\r\n\r\n  /**\r\n   * Returns an of captured pieces in current position\r\n   */\r\n  getCapturedPieces(): Piece[] {\r\n    const state = this.stateHistory[this.turn - 1];\r\n    if (!state) throw new Error(`Invalid State for Turn: ${this.turn}`);\r\n    return state.capturedPieces;\r\n  }\r\n\r\n  /**\r\n   * Returns last move that was played.\r\n   * If turn 1, returns null\r\n   */\r\n  getLastMove(): LastMove {\r\n    const state = this.stateHistory[this.turn - 1];\r\n    if (!state) throw new Error(`Invalid State for Turn: ${this.turn}`);\r\n    return state.lastMove;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  addState(activePieces: ActivePieces, lastMove: LastMove, capturedPiece?: Piece) {\r\n    const state = this.stateHistory[this.turn - 1];\r\n    if (!state) throw new Error(`Invalid State for Turn: ${this.turn}`);\r\n    const capturedPieces = state.capturedPieces.slice();\r\n    if (capturedPiece) capturedPieces.push(capturedPiece);\r\n    this.stateHistory.push({ capturedPieces, lastMove, activePieces });\r\n    this.turn++;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  undo() {\r\n    if (this.turn > 1) {\r\n      this.stateHistory.pop();\r\n      this.turn--;\r\n      this.player = this.getPlayerColourFromTurn();\r\n      this.status = \"ACTIVE\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  getPlayerColourFromTurn() {\r\n    return this.turn % 2 === 0 ? \"BLACK\" : \"WHITE\";\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  getNextTurnPlayer(): Colour {\r\n    return this.player === \"BLACK\" ? \"WHITE\" : \"BLACK\";\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  reset() {\r\n    this.turn = 1;\r\n    this.stateHistory = this.stateHistory.slice(0, 1);\r\n    this.status = \"ACTIVE\";\r\n    this.player = startingPlayer;\r\n    this.seed = generateSeed();\r\n  }\r\n\r\n  /**\r\n   * Returns JSON representation of board state\r\n   */\r\n  getJSONState(): JSONBoardState {\r\n    let boardStateJSON: JSONBoardState = [];\r\n\r\n    this.stateHistory.forEach((state) => {\r\n      const { lastMove } = state;\r\n      const capturedPieces = state.capturedPieces.map((piece) => {\r\n        const stateItem: JSONBoardStatePiece = [null, piece.colour, piece.name];\r\n        return stateItem;\r\n      });\r\n      const activePieces = Array.from(state.activePieces).map(([key, piece]) => {\r\n        const stateItem: JSONBoardStatePiece = [key, piece.colour, piece.name];\r\n        return stateItem;\r\n      });\r\n      const combinedStates = [...activePieces, ...capturedPieces];\r\n      boardStateJSON.push({ pieces: combinedStates, lastMove });\r\n    });\r\n\r\n    return boardStateJSON;\r\n  }\r\n\r\n  /**\r\n   * Sets board state from JSON\r\n   */\r\n  setStateFromJSON(stateJSON: JSONBoardState) {\r\n    let state: State[] = [];\r\n    let turn = 0;\r\n\r\n    stateJSON.forEach((JSONStateItem) => {\r\n      const { pieces, lastMove } = JSONStateItem;\r\n      const capturedPieces = pieces\r\n        .filter(([key]) => key === null)\r\n        .map(([key, colour, name]) => {\r\n          let piece = makePiece(name, colour);\r\n          return piece;\r\n        });\r\n\r\n      let activePieces = new Map();\r\n\r\n      pieces\r\n        .filter(([key]) => key !== null)\r\n        .forEach(([key, colour, name]) => {\r\n          let piece = makePiece(name, colour);\r\n          activePieces.set(key, piece);\r\n        });\r\n\r\n      state.push({ capturedPieces, activePieces, lastMove });\r\n      turn++;\r\n    });\r\n\r\n    this.stateHistory = state;\r\n    this.status = \"ACTIVE\";\r\n    this.turn = turn;\r\n    this.player = this.getPlayerColourFromTurn();\r\n    this.seed = generateSeed();\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction generateSeed() {\r\n  return Math.round(Math.random() * 10 ** 8);\r\n}\r\n","import { makePiece, PieceName, Colour } from \"../piece\";\r\nimport { Tile } from \"../tile\";\r\nimport { getPossibleMoves } from \"../possible-moves\";\r\nimport { makeBoardTilesFromAxis } from \"../tile-maker\";\r\nimport { BoardState } from \"./board-state\";\r\n\r\nexport interface BoardConfig {\r\n  x: number;\r\n  y: number;\r\n  hills?: string[];\r\n  totalTurns?: number;\r\n}\r\n\r\nconst boardDimentions: { [k: string]: string[] } = {\r\n  // X AXIS - Left To Right\r\n  x: [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\"],\r\n  // Y AXIS - Top to Bottom\r\n  y: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"13\"],\r\n};\r\n\r\nconst defaultTotalTurns = 70;\r\n\r\n/**\r\n *\r\n */\r\nexport class Board {\r\n  tiles: Map<string, Tile>;\r\n  hills: Tile[];\r\n  state = new BoardState();\r\n  xAxis: string[];\r\n  yAxis: string[];\r\n  totalTurns: number;\r\n\r\n  constructor({ x, y, hills, totalTurns }: BoardConfig) {\r\n    checkBoardDimentions(\"x\", x);\r\n    checkBoardDimentions(\"y\", y);\r\n    let xAxis = boardDimentions.x.slice(0, x);\r\n    let yAxis = boardDimentions.y.slice(0, y);\r\n    this.tiles = makeBoardTilesFromAxis({ xAxis, yAxis, hills });\r\n    this.hills = this.getTilesArray().filter((t) => t.isHill);\r\n    this.xAxis = xAxis;\r\n    this.yAxis = yAxis;\r\n    this.totalTurns = totalTurns || defaultTotalTurns;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  getTilesArray(): Tile[] {\r\n    return Array.from(this.tiles).map(([key, tile]) => tile);\r\n  }\r\n\r\n  /**\r\n   * Move Piece. Check if game has winner.\r\n   * If game has winner, return winning player colour.\r\n   * If no winners, toggle player turn and return nothing.\r\n   */\r\n  move(from: string, to: string) {\r\n    if (this.state.status !== \"ACTIVE\") throw Error(\"Game over. Cannot make moves\");\r\n\r\n    let fromTile = this.tiles.get(from);\r\n    let toTile = this.tiles.get(to);\r\n    if (!fromTile || !toTile) throw Error(\"Invalid tiles\");\r\n\r\n    let capturedPiece = this.state.getPiece(to);\r\n\r\n    let movingPiece = this.state.getPiece(from);\r\n    if (movingPiece == null) throw Error(\"No Piece found\");\r\n\r\n    let newState = new Map(this.state.getActivePieces());\r\n\r\n    // Special Magician move\r\n    if (movingPiece.name === \"MAGICIAN\" && capturedPiece) {\r\n      newState.set(to, movingPiece);\r\n      newState.set(from, capturedPiece);\r\n      this.state.addState(newState, [from, to]);\r\n    } else {\r\n      newState.delete(from);\r\n      newState.set(to, movingPiece);\r\n      this.state.addState(newState, [from, to], capturedPiece);\r\n    }\r\n\r\n    // Check if King has been captured\r\n    if (capturedPiece?.name === \"KING\" && movingPiece.name !== \"MAGICIAN\") {\r\n      this.state.status = movingPiece.colour;\r\n      return;\r\n    }\r\n\r\n    // Check if KOTH\r\n    let winner = this.checkIfKOTH();\r\n    if (winner) {\r\n      this.state.status = winner;\r\n      return;\r\n    }\r\n\r\n    if (this.totalTurns + 1 === this.state.turn) {\r\n      this.state.status = \"DRAW\";\r\n    } else {\r\n      this.state.player = this.state.getNextTurnPlayer();\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  isValidMove(from: string, to: string): boolean {\r\n    try {\r\n      let piece = this.state.getPiece(from);\r\n      if (!piece) return false;\r\n      if (piece.colour !== this.state.player) return false;\r\n      let possibleMoves = getPossibleMoves(from, this);\r\n      return possibleMoves.includes(to);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * returns all possible moves by Colour\r\n   */\r\n  getAllPossibleMovesByColour(colour: Colour): string[] {\r\n    let stateArray = Array.from(this.state.getActivePieces());\r\n    return stateArray\r\n      .filter(([key, piece]) => piece.colour === colour)\r\n      .reduce((moves: string[], item) => {\r\n        moves.push(...getPossibleMoves(item[0], this));\r\n        return moves;\r\n      }, []);\r\n  }\r\n\r\n  /**\r\n   * Check if King Of The Hill condition is met\r\n   */\r\n  checkIfKOTH(): false | Colour {\r\n    let nextTurnPlayer = this.state.getNextTurnPlayer();\r\n    for (let hill of this.hills) {\r\n      let piece = this.state.getPiece(hill.key);\r\n      if (!piece) continue;\r\n\r\n      if (piece.name === \"KING\") {\r\n        // If player failed to capture oponent King on Hill\r\n        if (this.state.player !== piece.colour) return piece.colour;\r\n        // For edge-case when(for some reason) player Magician moves opponent King into Hill\r\n        if (nextTurnPlayer === piece.colour) return this.state.player;\r\n        // If King move to Hill on last move of the game\r\n        if (this.totalTurns + 1 === this.state.turn) return piece.colour;\r\n        // Check if possible for player to Contest oponent King on Hill\r\n        let moves = this.getAllPossibleMovesByColour(nextTurnPlayer);\r\n        if (!moves.includes(hill.key)) return this.state.player;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Checks whether given board dimentions are valid\r\n */\r\nfunction checkBoardDimentions(type: string, value: number) {\r\n  let minVal = 2;\r\n  if (value < minVal) {\r\n    throw new Error(`'${type}' must be at least ${minVal}`);\r\n  }\r\n  if (value > boardDimentions[type].length) {\r\n    throw new Error(`'${type}' cannot exceed ${boardDimentions[type].length}`);\r\n  }\r\n}\r\n","import { PieceName } from \"../../board-logic/piece\";\r\nimport { JSONBoardState } from \"../../board-logic/board/board-state\";\r\n\r\n/**\r\n * Each tutorial move contains a board state and a board move [from, to]\r\n *\r\n */\r\ntype TutMove = {\r\n  state: JSONBoardState;\r\n  move: [string, string];\r\n};\r\n\r\n/**\r\n * Each 'PieceTutorial' contains a description of the piece\r\n * and array of Tutorial Moves\r\n */\r\ntype PieceTutorial = {\r\n  desc: string;\r\n  moves: TutMove[];\r\n};\r\n\r\n/**\r\n * A JS dictionary where the Key is Piece name\r\n * and value is a 'PieceTutorial'\r\n */\r\nexport const pieceTutorials: Record<PieceName, PieceTutorial> = {\r\n  KING: {\r\n    desc: \"The king moves 1 Tile in any direction\",\r\n    moves: [\r\n      {\r\n        state: [{ lastMove: null, pieces: [[\"C3\", \"WHITE\", \"KING\"]] }],\r\n        move: [\"C3\", \"C4\"],\r\n      },\r\n    ],\r\n  },\r\n\r\n  CHARIOT: {\r\n    desc: \"Chariot can move up to 3 tiles Vertically and any number of tiles Horizontally.\",\r\n    moves: [\r\n      {\r\n        state: [{ lastMove: null, pieces: [[\"A1\", \"WHITE\", \"CHARIOT\"]] }],\r\n        move: [\"A1\", \"A4\"],\r\n      },\r\n      {\r\n        state: [{ lastMove: null, pieces: [[\"A4\", \"WHITE\", \"CHARIOT\"]] }],\r\n        move: [\"A4\", \"E4\"],\r\n      },\r\n    ],\r\n  },\r\n\r\n  ARCHER: {\r\n    desc: \"Archer can move 2 Tiles Diagonally. The Archer can also Leap over other pieces.\",\r\n    moves: [\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [[\"C3\", \"WHITE\", \"ARCHER\"]],\r\n          },\r\n        ],\r\n        move: [\"C3\", \"E5\"],\r\n      },\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"C3\", \"WHITE\", \"ARCHER\"],\r\n              [\"E5\", \"BLACK\", \"KING\"],\r\n              [\"D4\", \"BLACK\", \"TOWER\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"C3\", \"E5\"],\r\n      },\r\n    ],\r\n  },\r\n\r\n  MAGICIAN: {\r\n    desc: `\r\n      Magician can move any number of Tiles in any direction. \r\n      Magician cannot capture pieces, however it can swap position with \r\n      firendly and enemy pieces in its <u title=\"Meaning not obstructed by another piece\">line of sight</u>.\r\n      `,\r\n    moves: [\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"C1\", \"WHITE\", \"TOWER\"],\r\n              [\"C3\", \"WHITE\", \"MAGICIAN\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"C3\", \"C1\"],\r\n      },\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"C3\", \"BLACK\", \"KING\"],\r\n              [\"E1\", \"WHITE\", \"MAGICIAN\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"E1\", \"C3\"],\r\n      },\r\n    ],\r\n  },\r\n\r\n  SPY: {\r\n    desc: \"Spy moves 1 Tile in any direction. If on the edge of the board, Spy can move 1 Tile from one edge of the board to the opposite edge.\",\r\n    moves: [\r\n      { state: [{ lastMove: null, pieces: [[\"C2\", \"WHITE\", \"SPY\"]] }], move: [\"C2\", \"C1\"] },\r\n      { state: [{ lastMove: null, pieces: [[\"C1\", \"WHITE\", \"SPY\"]] }], move: [\"C1\", \"C5\"] },\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"A1\", \"WHITE\", \"SPY\"],\r\n              [\"E5\", \"BLACK\", \"KING\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"A1\", \"E5\"],\r\n      },\r\n    ],\r\n  },\r\n\r\n  TOWER: {\r\n    desc: \"Tower can move 1 Tile in Horizontal or Vertical direction. The Tower cannot Capture other pieces and also cannot be captured.\",\r\n    moves: [\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"B3\", \"WHITE\", \"KING\"],\r\n              [\"C2\", \"WHITE\", \"TOWER\"],\r\n              [\"E3\", \"BLACK\", \"CHARIOT\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"C2\", \"C3\"],\r\n      },\r\n      {\r\n        state: [\r\n          {\r\n            lastMove: null,\r\n            pieces: [\r\n              [\"B3\", \"WHITE\", \"KING\"],\r\n              [\"C3\", \"WHITE\", \"TOWER\"],\r\n              [\"E3\", \"BLACK\", \"CHARIOT\"],\r\n            ],\r\n          },\r\n          {\r\n            lastMove: [\"C2\", \"C3\"],\r\n            pieces: [\r\n              [\"B3\", \"WHITE\", \"KING\"],\r\n              [\"C3\", \"WHITE\", \"TOWER\"],\r\n              [\"E3\", \"BLACK\", \"CHARIOT\"],\r\n            ],\r\n          },\r\n        ],\r\n        move: [\"E3\", \"D3\"],\r\n      },\r\n    ],\r\n  },\r\n};\r\n","import { useState, useEffect, useRef } from \"react\";\r\nimport { Board } from \"../../board-logic/board/board\";\r\nimport BoardView from \"../board-view\";\r\nimport { PieceName } from \"../../board-logic/piece\";\r\nimport { pieceTutorials } from \"./piece-tutorials\";\r\nimport { Piece } from \"../piece\";\r\nimport { JSONBoardState } from \"../../board-logic/board/board-state\";\r\n\r\nconst board = new Board({ x: 5, y: 5 });\r\n\r\nconst gameRulesTxt = `\r\nKing Of The Hill is a turn based strategy game similar to Chess. There are 2 ways to win: \r\n<br/>\r\n<ol>\r\n<li><u title='Take an oponent piece with your piece'>Capture</u> the oponent King.</li>\r\n<li>\r\n  Move your King to the <u title='Hill is the golden tile in the middle of the board'>Hill</u> Tile \r\n  <u title='Cannot be captured or moved on next turn'>uncontested</u>. Uncontested means it cannot be captured or moved by thr opponent on next turn.\r\n</li>\r\n</ol>\r\nEach game lasts ${board.totalTurns} turns. Like Chess, each piece has a unique set of moves. \r\nSome pieces have special moves and properties. You can learn about piece movement by clickng on piece icons above.\r\n`;\r\n\r\n/**\r\n *\r\n */\r\nexport default function Tutorial() {\r\n  const [selectTile, setSelectTile] = useState<null | string>(null);\r\n  const [selectedTutPiece, setSelectedTutPiece] = useState<PieceName | null>(null);\r\n  const [token, setToken] = useState(0);\r\n\r\n  useEffect(() => {\r\n    return () => console.log(\"TUT CLEAN UP\");\r\n  }, []);\r\n\r\n  /**\r\n   * This side-effect runs everytime user clicks on a Piece\r\n   * in the tutorial modal.\r\n   */\r\n  useEffect(() => {\r\n    if (!selectedTutPiece) return;\r\n\r\n    // Get all tutorials for selected Piece\r\n    const { moves } = pieceTutorials[selectedTutPiece];\r\n    // Always start with the first tutorial\r\n    let tutMoveIndex = 0;\r\n    let move: [string, string];\r\n    let boardState: JSONBoardState;\r\n\r\n    // Set tutorial state and move\r\n    function initState() {\r\n      move = moves[tutMoveIndex].move;\r\n      boardState = moves[tutMoveIndex].state;\r\n      board.state.setStateFromJSON(boardState);\r\n      setToken(Math.random());\r\n    }\r\n    initState();\r\n\r\n    // Sequence of functions to run every 2 seconds\r\n    let sequenceIndex = 0;\r\n    const simulatePlaySequences = [\r\n      () => {\r\n        setSelectTile(move[0]);\r\n        sequenceIndex++;\r\n      },\r\n      () => {\r\n        board.move(move[0], move[1]);\r\n        setSelectTile(null);\r\n        setToken(Math.random());\r\n        sequenceIndex++;\r\n      },\r\n      () => {\r\n        // Set to 0 so the animation sequence restarts\r\n        sequenceIndex = 0;\r\n        // If this was the last tutorial, replay the tutorials\r\n        if (tutMoveIndex + 1 === moves.length) {\r\n          tutMoveIndex = 0;\r\n        }\r\n        // If it wasn't the last tutorial, play the next tutorial\r\n        else {\r\n          tutMoveIndex++;\r\n        }\r\n        // Reset move and state\r\n        initState();\r\n      },\r\n    ];\r\n\r\n    // Play each sequence after a 2 sec delay\r\n    const intervalId = window.setInterval(() => {\r\n      simulatePlaySequences[sequenceIndex]();\r\n    }, 1700);\r\n\r\n    // Clean up\r\n    return () => {\r\n      setSelectTile(null);\r\n      window.clearInterval(intervalId);\r\n    };\r\n  }, [selectedTutPiece]);\r\n\r\n  /**\r\n   *\r\n   */\r\n  let pieces: JSX.Element[] = [];\r\n  for (let pieceName in pieceTutorials) {\r\n    let width = 60;\r\n    let wrapperDivClass = \"\";\r\n    if (pieceName === selectedTutPiece) wrapperDivClass = \"selected\";\r\n    pieces.push(\r\n      <div\r\n        key={pieceName}\r\n        className={wrapperDivClass}\r\n        title={pieceName}\r\n        onClick={() => setSelectedTutPiece(pieceName as PieceName)}\r\n      >\r\n        <Piece name={pieceName as PieceName} colour={\"WHITE\"} width={width} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  let tutContent: JSX.Element;\r\n\r\n  // Make sure board is initialised with a state before rendering it\r\n  if (selectedTutPiece && token !== 0) {\r\n    tutContent = (\r\n      <div className=\"koth-tutorial-moves\">\r\n        <div>\r\n          <h3>{selectedTutPiece}</h3>\r\n          <div dangerouslySetInnerHTML={{ __html: pieceTutorials[selectedTutPiece].desc }}></div>\r\n        </div>\r\n        <div>\r\n          <br />\r\n          <BoardView\r\n            board={board}\r\n            token={token}\r\n            gameMode=\"AGAINST_HUMAN\"\r\n            playable={false}\r\n            boardMaxWidth={290}\r\n            selectTile={selectTile}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    tutContent = (\r\n      <div dangerouslySetInnerHTML={{ __html: gameRulesTxt }} className=\"koth-tutorial-rules\"></div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"koth-tutorial\">\r\n      <div className=\"koth-tutorial-top\"> {pieces}</div>\r\n      <hr />\r\n      {tutContent}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/question.b9c5d800.svg\";","export default __webpack_public_path__ + \"static/media/restart.b67589ae.svg\";","import { useState } from \"react\";\r\nimport { Board } from \"../board-logic/board/board\";\r\nimport { Piece } from \"./piece\";\r\nimport { Modal } from \"../components/modal\";\r\nimport Tutorial from \"./tutorial/tutorial\";\r\nimport questionSvg from \"./images/question.svg\";\r\nimport restartSvg from \"./images/restart.svg\";\r\n\r\ninterface BoardInfoProps {\r\n  board: Board;\r\n  restart: () => void;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\ninterface CapturedPiecesProp {\r\n  board: Board;\r\n  colour: \"WHITE\" | \"BLACK\";\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport default function BoardInfo(props: BoardInfoProps) {\r\n  const { board, restart, width, height } = props;\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"koth-board-info\" style={{ height, width }}>\r\n      <CapturedPieces board={board} colour={\"BLACK\"} />\r\n      <div>\r\n        <TurnInfo board={board} />\r\n        <hr />\r\n        <div className=\"koth-btn-controls\">\r\n          <button onClick={restart} title=\"Restart Game\">\r\n            <img src={restartSvg} alt=\"Restart Game\" width=\"20\" />\r\n          </button>\r\n          <button onClick={() => setModalIsOpen(true)} title=\"Learn How To Play\">\r\n            <img src={questionSvg} alt=\"How To Play\" width=\"20\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <CapturedPieces board={board} colour={\"WHITE\"} />\r\n      <Modal isOpen={modalIsOpen} onClose={() => setModalIsOpen(false)} title=\"Learn To Play\">\r\n        <Tutorial />\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n/**\r\n *\r\n */\r\nfunction CapturedPieces(props: CapturedPiecesProp) {\r\n  const { board, colour } = props;\r\n  const capturedPieces = board.state.getCapturedPieces();\r\n  const pieces = capturedPieces\r\n    .filter((piece) => colour === piece.colour)\r\n    .map((piece) => <Piece name={piece.name} colour={colour} width={45} />);\r\n\r\n  return <div className=\"koth-captured-pieces\">{pieces}</div>;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction TurnInfo(props: { board: Board }) {\r\n  const { board } = props;\r\n\r\n  let txt = \"\";\r\n\r\n  switch (board.state.status) {\r\n    case \"ACTIVE\":\r\n      txt = `TURN: ${board.state.turn} / ${board.totalTurns}`;\r\n      break;\r\n    case \"DRAW\":\r\n      txt = \"Game Drawn\";\r\n      break;\r\n    case \"WHITE\":\r\n      txt = \"Blue Won!\";\r\n      break;\r\n    case \"BLACK\":\r\n      txt = \"Red Won!\";\r\n      break;\r\n    default:\r\n      throw Error(`Invalid board Status: ${board.state.status}`);\r\n  }\r\n\r\n  return <div className=\"koth-turn-info\">{txt}</div>;\r\n}\r\n","import { Board } from \"../board/board\";\r\nimport { Colour } from \"../piece\";\r\nimport { getPossibleMovesWithDetails, PossibleMove } from \"../possible-moves\";\r\nimport { evaluatePosition, EvaluatorPlugin } from \"./score-evaluator\";\r\n\r\nconst maxDepth = 4;\r\nlet count = 0;\r\n\r\n/**\r\n *\r\n */\r\nexport function getMoveCandidates(\r\n  board: Board,\r\n  plugins: EvaluatorPlugin[] = []\r\n): [string, string] | null {\r\n  count = 0;\r\n  console.time(\"Best Moves\");\r\n  let originalBoardJSONState = board.state.getJSONState();\r\n\r\n  let boardCopyConfig = {\r\n    x: board.yAxis.length,\r\n    y: board.xAxis.length,\r\n    hills: board.hills.map((h) => h.key),\r\n  };\r\n\r\n  let boardCopy = new Board(boardCopyConfig);\r\n  boardCopy.state.setStateFromJSON(originalBoardJSONState);\r\n\r\n  let moveTree = minimax(boardCopy, board.state.player, 0, true, -10000, 10000, plugins);\r\n\r\n  //console.timeEnd(\"Best Moves\");\r\n  //console.log(\"Count: \", count);\r\n  //console.log(moveTree[1]);\r\n\r\n  return moveTree[1] ? moveTree[1] : null;\r\n}\r\n/**\r\n *\r\n */\r\nfunction minimax(\r\n  board: Board,\r\n  player: Colour,\r\n  depth: number,\r\n  isMaximizingPlayer: boolean,\r\n  alpha: number,\r\n  beta: number,\r\n  plugins: EvaluatorPlugin[]\r\n): [number, [string, string] | null] {\r\n  if (depth === maxDepth) {\r\n    count++;\r\n    let { BLACK, WHITE } = evaluatePosition(board, plugins);\r\n    let value = player === \"BLACK\" ? BLACK - WHITE : WHITE - BLACK;\r\n    return [value, null];\r\n  }\r\n\r\n  let bestMove: [string, string] | null = null;\r\n  let bestVal = isMaximizingPlayer ? -10000 : 10000;\r\n  let possibleMoves = getMoves(board);\r\n\r\n  for (let i = 0; i < possibleMoves.length; i++) {\r\n    let move = possibleMoves[i];\r\n    let moveFrom = move.tileFrom.key;\r\n    let moveTo = move.tileTo.key;\r\n    let value = null;\r\n    board.move(moveFrom, moveTo);\r\n    let { status } = board.state;\r\n\r\n    if (status === \"DRAW\") {\r\n      value = 0;\r\n    } else if (status === \"ACTIVE\") {\r\n      let result = minimax(board, player, depth + 1, !isMaximizingPlayer, alpha, beta, plugins);\r\n      value = result[0];\r\n    } else {\r\n      if (status === player) value = 1000;\r\n      else value = -1000;\r\n    }\r\n\r\n    if (isMaximizingPlayer) {\r\n      if (value > bestVal) {\r\n        bestVal = value;\r\n        bestMove = [moveFrom, moveTo];\r\n      }\r\n      alpha = Math.max(alpha, value);\r\n    } else {\r\n      if (value < bestVal) {\r\n        bestVal = value;\r\n        bestMove = [moveFrom, moveTo];\r\n      }\r\n      beta = Math.min(beta, value);\r\n    }\r\n\r\n    board.state.undo();\r\n\r\n    if (beta <= alpha) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return [bestVal, bestMove];\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction getMoves(board: Board): PossibleMove[] {\r\n  let moves: PossibleMove[] = [];\r\n  let player = board.state.player;\r\n  let stateArray = Array.from(board.state.getActivePieces());\r\n  let pieces = stateArray.filter(([key, piece]) => piece.colour === player);\r\n\r\n  for (let [key] of pieces) {\r\n    let possibleMoves = getPossibleMovesWithDetails(key, board);\r\n    moves.push(...possibleMoves);\r\n  }\r\n\r\n  // Sort by moves that result in piece captures.\r\n  // This helps the algorithm analyse forcing moves first,\r\n  // making it find the best moves faster\r\n  moves.sort((a, b) => {\r\n    return a.capturing ? -1 : 1;\r\n  });\r\n\r\n  return moves;\r\n}\r\n","import { Piece } from \"../piece\";\r\nimport { Board } from \"../board/board\";\r\nimport { Tile } from \"../tile\";\r\n\r\ntype EvaluatePosition = {\r\n  BLACK: number;\r\n  WHITE: number;\r\n};\r\n\r\nexport type EvaluatorPlugin = (tile: Tile, piece: Piece) => number;\r\n\r\n/**\r\n *\r\n */\r\nexport function evaluatePosition(board: Board, plugins: EvaluatorPlugin[] = []): EvaluatePosition {\r\n  let bluePieces: [string, Piece][] = [];\r\n  let redPieces: [string, Piece][] = [];\r\n\r\n  board.state.getActivePieces().forEach((piece, key) => {\r\n    if (piece.colour === \"BLACK\") redPieces.push([key, piece]);\r\n    else bluePieces.push([key, piece]);\r\n  });\r\n\r\n  let [blackScore, whiteScore] = [redPieces, bluePieces].map((pieces) => {\r\n    let score = 0;\r\n    for (let [key, piece] of pieces) {\r\n      let { value, edgePreference } = piece;\r\n      let tile = board.tiles.get(key) as Tile;\r\n\r\n      score += value;\r\n\r\n      if (piece.name === \"TOWER\" && tile.isHill) {\r\n        score += 5;\r\n      }\r\n\r\n      score += edgePreference.x * tile.xEdge + edgePreference.y * tile.yEdge;\r\n\r\n      if (plugins.length) {\r\n        for (let plugin of plugins) {\r\n          score += plugin(tile, piece);\r\n        }\r\n      }\r\n    }\r\n    return score;\r\n  });\r\n\r\n  return {\r\n    WHITE: whiteScore,\r\n    BLACK: blackScore,\r\n  };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/move.e26d185c.mp3\";","import { useState, useCallback, useEffect, memo, useRef } from \"react\";\r\nimport { useWindowEvent, delay, getWindowInnerWidth } from \"../utils\";\r\nimport BoardView from \"./board-view\";\r\nimport BoardInfo from \"./board-info\";\r\nimport { getMoveCandidates } from \"../board-logic/ai/move-finder\";\r\nimport { Board } from \"../board-logic/board/board\";\r\nimport { JSONBoardState } from \"../board-logic/board/board-state\";\r\nimport { EvaluatorPlugin } from \"../board-logic/ai/score-evaluator\";\r\nimport MoveSound from \"./images/move.mp3\";\r\n\r\nconst BoardMemo = memo(BoardView);\r\n\r\nconst boardMaxWidth = 850;\r\n\r\nconst moveSound = new Audio(MoveSound);\r\nmoveSound.volume = 0.3;\r\n\r\nconst archerOnDarkDarkTiles: EvaluatorPlugin = (tile, piece) => {\r\n  if (piece.name === \"ARCHER\" && tile.colour === \"DARK\") return 10;\r\n  return 0;\r\n};\r\n\r\nconst kingOutOfPosition: EvaluatorPlugin = (tile, piece) => {\r\n  if (piece.name === \"KING\") {\r\n    // If Red King is on First Rank\r\n    if (piece.colour === \"BLACK\" && tile.y === 6) {\r\n      return -25;\r\n    }\r\n    // If Blue King is on Last Rank\r\n    else if (piece.colour === \"WHITE\" && tile.y === 0) {\r\n      return -25;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nconst scoreEvalPlugins = [archerOnDarkDarkTiles, kingOutOfPosition];\r\n\r\nconst defaultBoardState: JSONBoardState = [\r\n  {\r\n    lastMove: null,\r\n    pieces: [\r\n      [\"D1\", \"WHITE\", \"KING\"],\r\n      [\"A1\", \"WHITE\", \"CHARIOT\"],\r\n      [\"B1\", \"WHITE\", \"ARCHER\"],\r\n      [\"F1\", \"WHITE\", \"ARCHER\"],\r\n      [\"B2\", \"WHITE\", \"SPY\"],\r\n      [\"D2\", \"WHITE\", \"MAGICIAN\"],\r\n      [\"F2\", \"WHITE\", \"TOWER\"],\r\n      [\"G1\", \"WHITE\", \"CHARIOT\"],\r\n\r\n      [\"D7\", \"BLACK\", \"KING\"],\r\n      [\"A7\", \"BLACK\", \"CHARIOT\"],\r\n      [\"B7\", \"BLACK\", \"ARCHER\"],\r\n      [\"F7\", \"BLACK\", \"ARCHER\"],\r\n      [\"B6\", \"BLACK\", \"SPY\"],\r\n      [\"D6\", \"BLACK\", \"MAGICIAN\"],\r\n      [\"F6\", \"BLACK\", \"TOWER\"],\r\n      [\"G7\", \"BLACK\", \"CHARIOT\"],\r\n    ],\r\n  },\r\n];\r\n\r\nconst board = new Board({ x: 7, y: 7, hills: [\"D4\"] });\r\nboard.state.setStateFromJSON(defaultBoardState);\r\n\r\n/**\r\n *\r\n */\r\nexport default function BoardPage() {\r\n  const [screenSize, updateScreenSize] = useState<\"sm\" | \"lg\">(\"sm\");\r\n  const [boardWidth, updateBoardWidth] = useState(0);\r\n  const [boardInfoSize, updateBoardInfoSize] = useState<{ w: number; h: number }>({ w: 0, h: 0 });\r\n  const [gameMode] = useState(\"AGAINST_CPU\");\r\n  const [selectTile, setSelectTile] = useState<null | string>(null);\r\n  const moveToPlayTimeoutId = useRef(0);\r\n  const [playable, updatePlayable] = useState(true);\r\n  // 'token' is a random arbitrary number.\r\n  // It's used to force react to re-render board-view after board.move() or board.reset()\r\n  // I initially tried to listern to board.state.turn changes inside board-view but\r\n  // that didn't always trigger a re-render. Weird React bug :/\r\n  const [token, setToken] = useState(Math.random());\r\n\r\n  /**\r\n   *\r\n   */\r\n  const adjustBoardSize = useCallback(() => {\r\n    // 'window.innerWidth' is not reliable\r\n    const windowInnerWidth = getWindowInnerWidth();\r\n    // Don't go bigger than max width\r\n    let newBoardWidth = Math.min(windowInnerWidth, boardMaxWidth);\r\n    let screenSize: \"sm\" | \"lg\" = \"sm\";\r\n    let boardInfoSize = { w: newBoardWidth, h: 200 };\r\n\r\n    if (newBoardWidth > 660) {\r\n      screenSize = \"lg\";\r\n      newBoardWidth -= 160;\r\n      boardInfoSize = { w: 120, h: newBoardWidth + 20 };\r\n    }\r\n    updateScreenSize(screenSize);\r\n    updateBoardWidth(newBoardWidth);\r\n    updateBoardInfoSize(boardInfoSize);\r\n  }, []);\r\n\r\n  // On initial render\r\n  useEffect(adjustBoardSize, [adjustBoardSize]);\r\n  // On Window resize\r\n  useWindowEvent(\"resize\", adjustBoardSize);\r\n\r\n  /**\r\n   *\r\n   */\r\n  const simulateComputerPlay = useCallback(async () => {\r\n    // Disable board interaction if it's computer's turn\r\n    updatePlayable(false);\r\n    const seed = board.state.seed;\r\n\r\n    await delay(500);\r\n\r\n    const moveCandidate = getMoveCandidates(board, scoreEvalPlugins);\r\n    if (moveCandidate === null) {\r\n      return console.error(\"No move candidates found\");\r\n    }\r\n    const [moveFrom, moveTo] = moveCandidate;\r\n\r\n    setSelectTile(moveFrom);\r\n    await delay(1500);\r\n\r\n    // Make sure there's no turn mis-match.\r\n    // e.g User pressing the 'Restart' button\r\n    // while move animation is hapening\r\n    if (board.state.seed !== seed) return;\r\n\r\n    board.move(moveFrom, moveTo);\r\n    setToken(Math.random());\r\n    moveSound.play();\r\n    setSelectTile(null);\r\n    updatePlayable(true);\r\n  }, []);\r\n\r\n  /**\r\n   * Called when player makes a new move\r\n   */\r\n  const onPieceMove = useCallback(\r\n    (from: string, to: string) => {\r\n      if (!board.isValidMove(from, to)) {\r\n        console.error(`Invalid move: [${from}, ${to}]`);\r\n        return;\r\n      }\r\n      board.move(from, to);\r\n      setToken(Math.random());\r\n      if (board.state.turn !== 1) moveSound.play();\r\n\r\n      // Can't move or click pieces if game over\r\n      if (board.state.status !== \"ACTIVE\") {\r\n        return updatePlayable(false);\r\n      }\r\n\r\n      if (gameMode === \"AGAINST_HUMAN\") return;\r\n      if (board.state.player === \"WHITE\") return;\r\n      // If game not over and it's Black's turn\r\n      // and game mode is Against CPU, play CPU's turn\r\n      simulateComputerPlay();\r\n    },\r\n    [gameMode, simulateComputerPlay]\r\n  );\r\n\r\n  /**\r\n   *\r\n   */\r\n  function onRestart() {\r\n    if (board.state.turn === 1) return;\r\n    board.state.reset();\r\n    setToken(Math.random());\r\n    setSelectTile(null);\r\n    updatePlayable(true);\r\n    // Clear move simulation timeout if it exists\r\n    if (moveToPlayTimeoutId.current) {\r\n      clearTimeout(moveToPlayTimeoutId.current);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"koth-page\">\r\n      <div\r\n        className={`koth-board-wrapper ${screenSize}  ${\r\n          board.state.player === \"WHITE\" ? \"white-turn\" : \"black-turn\"\r\n        }`}\r\n      >\r\n        <div className=\"koth-board\">\r\n          <BoardMemo\r\n            board={board}\r\n            token={token}\r\n            gameMode={gameMode}\r\n            playable={playable}\r\n            boardMaxWidth={boardWidth}\r\n            selectTile={selectTile}\r\n            onPieceMove={onPieceMove}\r\n          />\r\n        </div>\r\n        <BoardInfo\r\n          board={board}\r\n          restart={onRestart}\r\n          height={boardInfoSize.h}\r\n          width={boardInfoSize.w}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n//import { boardViewSlice } from \"../board-view-slice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    // boardView: boardViewSlice.reducer,\r\n  },\r\n});\r\n\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import \"./styles/index.scss\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport BoardPage from \"./board-views/board-page\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { store } from \"./store/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BoardPage />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}